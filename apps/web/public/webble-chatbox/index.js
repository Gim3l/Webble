var Ie=Object.defineProperty;var Te=(e,i,o)=>i in e?Ie(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o;var oe=(e,i,o)=>(Te(e,typeof i!="symbol"?i+"":i,o),o);function noop(){}const identity=e=>e;function assign(e,i){for(const o in i)e[o]=i[o];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,i){return e!=e?i==i:e!==i||e&&typeof e=="object"||typeof e=="function"}let src_url_equal_anchor;function src_url_equal(e,i){return e===i?!0:(src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=i,e===src_url_equal_anchor.href)}function is_empty(e){return Object.keys(e).length===0}function subscribe(e,...i){if(e==null){for(const s of i)s(void 0);return noop}const o=e.subscribe(...i);return o.unsubscribe?()=>o.unsubscribe():o}function component_subscribe(e,i,o){e.$$.on_destroy.push(subscribe(i,o))}function create_slot(e,i,o,s){if(e){const a=get_slot_context(e,i,o,s);return e[0](a)}}function get_slot_context(e,i,o,s){return e[1]&&s?assign(o.ctx.slice(),e[1](s(i))):o.ctx}function get_slot_changes(e,i,o,s){if(e[2]&&s){const a=e[2](s(o));if(i.dirty===void 0)return a;if(typeof a=="object"){const c=[],d=Math.max(i.dirty.length,a.length);for(let _=0;_<d;_+=1)c[_]=i.dirty[_]|a[_];return c}return i.dirty|a}return i.dirty}function update_slot_base(e,i,o,s,a,c){if(a){const d=get_slot_context(i,o,s,c);e.p(d,a)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const i=[],o=e.ctx.length/32;for(let s=0;s<o;s++)i[s]=-1;return i}return-1}function action_destroyer(e){return e&&is_function(e.destroy)?e.destroy:noop}const is_client=typeof window<"u";let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop;const tasks=new Set;function run_tasks(e){tasks.forEach(i=>{i.c(e)||(tasks.delete(i),i.f())}),tasks.size!==0&&raf(run_tasks)}function loop(e){let i;return tasks.size===0&&raf(run_tasks),{promise:new Promise(o=>{tasks.add(i={c:e,f:o})}),abort(){tasks.delete(i)}}}function append(e,i){e.appendChild(i)}function append_styles(e,i,o){const s=get_root_for_style(e);if(!s.getElementById(i)){const a=element("style");a.id=i,a.textContent=o,append_stylesheet(s,a)}}function get_root_for_style(e){if(!e)return document;const i=e.getRootNode?e.getRootNode():e.ownerDocument;return i&&i.host?i:e.ownerDocument}function append_empty_stylesheet(e){const i=element("style");return i.textContent="/* empty */",append_stylesheet(get_root_for_style(e),i),i.sheet}function append_stylesheet(e,i){return append(e.head||e,i),i.sheet}function insert(e,i,o){e.insertBefore(i,o||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(e,i){for(let o=0;o<e.length;o+=1)e[o]&&e[o].d(i)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,i,o,s){return e.addEventListener(i,o,s),()=>e.removeEventListener(i,o,s)}function attr(e,i,o){o==null?e.removeAttribute(i):e.getAttribute(i)!==o&&e.setAttribute(i,o)}function to_number(e){return e===""?null:+e}function children(e){return Array.from(e.childNodes)}function set_data(e,i){i=""+i,e.data!==i&&(e.data=i)}function set_input_value(e,i){e.value=i??""}function set_style(e,i,o,s){o==null?e.style.removeProperty(i):e.style.setProperty(i,o,"")}function toggle_class(e,i,o){e.classList.toggle(i,!!o)}function custom_event(e,i,{bubbles:o=!1,cancelable:s=!1}={}){return new CustomEvent(e,{detail:i,bubbles:o,cancelable:s})}class HtmlTag{constructor(i=!1){oe(this,"is_svg",!1);oe(this,"e");oe(this,"n");oe(this,"t");oe(this,"a");this.is_svg=i,this.e=this.n=null}c(i){this.h(i)}m(i,o,s=null){this.e||(this.is_svg?this.e=svg_element(o.nodeName):this.e=element(o.nodeType===11?"TEMPLATE":o.nodeName),this.t=o.tagName!=="TEMPLATE"?o:o.content,this.c(i)),this.i(s)}h(i){this.e.innerHTML=i,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(i){for(let o=0;o<this.n.length;o+=1)insert(this.t,this.n[o],i)}p(i){this.d(),this.h(i),this.i(this.a)}d(){this.n.forEach(detach)}}function get_custom_elements_slots(e){const i={};return e.childNodes.forEach(o=>{i[o.slot||"default"]=!0}),i}const managed_styles=new Map;let active=0;function hash(e){let i=5381,o=e.length;for(;o--;)i=(i<<5)-i^e.charCodeAt(o);return i>>>0}function create_style_information(e,i){const o={stylesheet:append_empty_stylesheet(i),rules:{}};return managed_styles.set(e,o),o}function create_rule(e,i,o,s,a,c,d,_=0){const f=16.666/s;let h=`{
`;for(let te=0;te<=1;te+=f){const Y=i+(o-i)*c(te);h+=te*100+`%{${d(Y,1-Y)}}
`}const m=h+`100% {${d(o,1-o)}}
}`,g=`__svelte_${hash(m)}_${_}`,$=get_root_for_style(e),{stylesheet:j,rules:b}=managed_styles.get($)||create_style_information($,e);b[g]||(b[g]=!0,j.insertRule(`@keyframes ${g} ${m}`,j.cssRules.length));const k=e.style.animation||"";return e.style.animation=`${k?`${k}, `:""}${g} ${s}ms linear ${a}ms 1 both`,active+=1,g}function delete_rule(e,i){const o=(e.style.animation||"").split(", "),s=o.filter(i?c=>c.indexOf(i)<0:c=>c.indexOf("__svelte")===-1),a=o.length-s.length;a&&(e.style.animation=s.join(", "),active-=a,active||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(e=>{const{ownerNode:i}=e.stylesheet;i&&detach(i)}),managed_styles.clear())})}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function createEventDispatcher(){const e=get_current_component();return(i,o,{cancelable:s=!1}={})=>{const a=e.$$.callbacks[i];if(a){const c=custom_event(i,o,{cancelable:s});return a.slice().forEach(d=>{d.call(e,c)}),!c.defaultPrevented}return!0}}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const e=current_component;do{try{for(;flushidx<dirty_components.length;){const i=dirty_components[flushidx];flushidx++,set_current_component(i),update(i.$$)}}catch(i){throw dirty_components.length=0,flushidx=0,i}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let i=0;i<render_callbacks.length;i+=1){const o=render_callbacks[i];seen_callbacks.has(o)||(seen_callbacks.add(o),o())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const i=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,i),e.after_update.forEach(add_render_callback)}}function flush_render_callbacks(e){const i=[],o=[];render_callbacks.forEach(s=>e.indexOf(s)===-1?i.push(s):o.push(s)),o.forEach(s=>s()),render_callbacks=i}let promise;function wait(){return promise||(promise=Promise.resolve(),promise.then(()=>{promise=null})),promise}function dispatch(e,i,o){e.dispatchEvent(custom_event(`intro${o}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,i){e&&e.i&&(outroing.delete(e),e.i(i))}function transition_out(e,i,o,s){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),s&&(o&&e.d(1),s())}),e.o(i)}else s&&s()}const null_transition={duration:0};function create_in_transition(e,i,o){const s={direction:"in"};let a=i(e,o,s),c=!1,d,_,f=0;function h(){d&&delete_rule(e,d)}function m(){const{delay:$=0,duration:j=300,easing:b=identity,tick:k=noop,css:te}=a||null_transition;te&&(d=create_rule(e,0,1,j,$,b,te,f++)),k(0,1);const Y=now()+$,X=Y+j;_&&_.abort(),c=!0,add_render_callback(()=>dispatch(e,!0,"start")),_=loop(Z=>{if(c){if(Z>=X)return k(1,0),dispatch(e,!0,"end"),h(),c=!1;if(Z>=Y){const ee=b((Z-Y)/j);k(ee,1-ee)}}return c})}let g=!1;return{start(){g||(g=!0,delete_rule(e),is_function(a)?(a=a(s),wait().then(m)):m())},invalidate(){g=!1},end(){c&&(h(),c=!1)}}}function ensure_array_like(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function create_component(e){e&&e.c()}function mount_component(e,i,o){const{fragment:s,after_update:a}=e.$$;s&&s.m(i,o),add_render_callback(()=>{const c=e.$$.on_mount.map(run).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...c):run_all(c),e.$$.on_mount=[]}),a.forEach(add_render_callback)}function destroy_component(e,i){const o=e.$$;o.fragment!==null&&(flush_render_callbacks(o.after_update),run_all(o.on_destroy),o.fragment&&o.fragment.d(i),o.on_destroy=o.fragment=null,o.ctx=[])}function make_dirty(e,i){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[i/31|0]|=1<<i%31}function init(e,i,o,s,a,c,d=null,_=[-1]){const f=current_component;set_current_component(e);const h=e.$$={fragment:null,ctx:[],props:c,update:noop,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(f?f.$$.context:[])),callbacks:blank_object(),dirty:_,skip_bound:!1,root:i.target||f.$$.root};d&&d(h.root);let m=!1;if(h.ctx=o?o(e,i.props||{},(g,$,...j)=>{const b=j.length?j[0]:$;return h.ctx&&a(h.ctx[g],h.ctx[g]=b)&&(!h.skip_bound&&h.bound[g]&&h.bound[g](b),m&&make_dirty(e,g)),$}):[],h.update(),m=!0,run_all(h.before_update),h.fragment=s?s(h.ctx):!1,i.target){if(i.hydrate){const g=children(i.target);h.fragment&&h.fragment.l(g),g.forEach(detach)}else h.fragment&&h.fragment.c();i.intro&&transition_in(e.$$.fragment),mount_component(e,i.target,i.anchor),flush()}set_current_component(f)}let SvelteElement;typeof HTMLElement=="function"&&(SvelteElement=class extends HTMLElement{constructor(i,o,s){super();oe(this,"$$ctor");oe(this,"$$s");oe(this,"$$c");oe(this,"$$cn",!1);oe(this,"$$d",{});oe(this,"$$r",!1);oe(this,"$$p_d",{});oe(this,"$$l",{});oe(this,"$$l_u",new Map);this.$$ctor=i,this.$$s=o,s&&this.attachShadow({mode:"open"})}addEventListener(i,o,s){if(this.$$l[i]=this.$$l[i]||[],this.$$l[i].push(o),this.$$c){const a=this.$$c.$on(i,o);this.$$l_u.set(o,a)}super.addEventListener(i,o,s)}removeEventListener(i,o,s){if(super.removeEventListener(i,o,s),this.$$c){const a=this.$$l_u.get(o);a&&(a(),this.$$l_u.delete(o))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let o=function(d){return()=>{let _;return{c:function(){_=element("slot"),d!=="default"&&attr(_,"name",d)},m:function(m,g){insert(m,_,g)},d:function(m){m&&detach(_)}}}};var i=o;if(await Promise.resolve(),!this.$$cn||this.$$c)return;const s={},a=get_custom_elements_slots(this);for(const d of this.$$s)d in a&&(s[d]=[o(d)]);for(const d of this.attributes){const _=this.$$g_p(d.name);_ in this.$$d||(this.$$d[_]=get_custom_element_value(_,d.value,this.$$p_d,"toProp"))}for(const d in this.$$p_d)!(d in this.$$d)&&this[d]!==void 0&&(this.$$d[d]=this[d],delete this[d]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:s,$$scope:{ctx:[]}}});const c=()=>{this.$$r=!0;for(const d in this.$$p_d)if(this.$$d[d]=this.$$c.$$.ctx[this.$$c.$$.props[d]],this.$$p_d[d].reflect){const _=get_custom_element_value(d,this.$$d[d],this.$$p_d,"toAttribute");_==null?this.removeAttribute(this.$$p_d[d].attribute||d):this.setAttribute(this.$$p_d[d].attribute||d,_)}this.$$r=!1};this.$$c.$$.after_update.push(c),c();for(const d in this.$$l)for(const _ of this.$$l[d]){const f=this.$$c.$on(d,_);this.$$l_u.set(_,f)}this.$$l={}}}attributeChangedCallback(i,o,s){var a;this.$$r||(i=this.$$g_p(i),this.$$d[i]=get_custom_element_value(i,s,this.$$p_d,"toProp"),(a=this.$$c)==null||a.$set({[i]:this.$$d[i]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(i){return Object.keys(this.$$p_d).find(o=>this.$$p_d[o].attribute===i||!this.$$p_d[o].attribute&&o.toLowerCase()===i)||i}});function get_custom_element_value(e,i,o,s){var c;const a=(c=o[e])==null?void 0:c.type;if(i=a==="Boolean"&&typeof i!="boolean"?i!=null:i,!s||!o[e])return i;if(s==="toAttribute")switch(a){case"Object":case"Array":return i==null?null:JSON.stringify(i);case"Boolean":return i?"":null;case"Number":return i??null;default:return i}else switch(a){case"Object":case"Array":return i&&JSON.parse(i);case"Boolean":return i;case"Number":return i!=null?+i:i;default:return i}}function create_custom_element(e,i,o,s,a,c){let d=class extends SvelteElement{constructor(){super(e,o,a),this.$$p_d=i}static get observedAttributes(){return Object.keys(i).map(_=>(i[_].attribute||_).toLowerCase())}};return Object.keys(i).forEach(_=>{Object.defineProperty(d.prototype,_,{get(){return this.$$c&&_ in this.$$c?this.$$c[_]:this.$$d[_]},set(f){var h;f=get_custom_element_value(_,f,i),this.$$d[_]=f,(h=this.$$c)==null||h.$set({[_]:f})}})}),s.forEach(_=>{Object.defineProperty(d.prototype,_,{get(){var f;return(f=this.$$c)==null?void 0:f[_]}})}),e.element=d,d}class SvelteComponent{constructor(){oe(this,"$$");oe(this,"$$set")}$destroy(){destroy_component(this,1),this.$destroy=noop}$on(i,o){if(!is_function(o))return noop;const s=this.$$.callbacks[i]||(this.$$.callbacks[i]=[]);return s.push(o),()=>{const a=s.indexOf(o);a!==-1&&s.splice(a,1)}}$set(i){this.$$set&&!is_empty(i)&&(this.$$.skip_bound=!0,this.$$set(i),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);function cubicOut(e){const i=e-1;return i*i*i+1}function quintInOut(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}function fade(e,{delay:i=0,duration:o=400,easing:s=identity}={}){const a=+getComputedStyle(e).opacity;return{delay:i,duration:o,easing:s,css:c=>`opacity: ${c*a}`}}function scale(e,{delay:i=0,duration:o=400,easing:s=cubicOut,start:a=0,opacity:c=0}={}){const d=getComputedStyle(e),_=+d.opacity,f=d.transform==="none"?"":d.transform,h=1-a,m=_*(1-c);return{delay:i,duration:o,easing:s,css:(g,$)=>`
			transform: ${f} scale(${1-h*$});
			opacity: ${_-m*$}
		`}}const subscriber_queue=[];function writable(e,i=noop){let o;const s=new Set;function a(_){if(safe_not_equal(e,_)&&(e=_,o)){const f=!subscriber_queue.length;for(const h of s)h[1](),subscriber_queue.push(h,e);if(f){for(let h=0;h<subscriber_queue.length;h+=2)subscriber_queue[h][0](subscriber_queue[h+1]);subscriber_queue.length=0}}}function c(_){a(_(e))}function d(_,f=noop){const h=[_,f];return s.add(h),s.size===1&&(o=i(a,c)||noop),_(e),()=>{s.delete(h),s.size===0&&o&&(o(),o=null)}}return{set:a,update:c,subscribe:d}}var react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l=Symbol.for("react.element"),n=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(e,i,o){this.props=e,this.context=i,this.refs=D,this.updater=o||B}E.prototype.isReactComponent={};E.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E.prototype;function G(e,i,o){this.props=e,this.context=i,this.refs=D,this.updater=o||B}var H=G.prototype=new F;H.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function M(e,i,o){var s,a={},c=null,d=null;if(i!=null)for(s in i.ref!==void 0&&(d=i.ref),i.key!==void 0&&(c=""+i.key),i)J.call(i,s)&&!L.hasOwnProperty(s)&&(a[s]=i[s]);var _=arguments.length-2;if(_===1)a.children=o;else if(1<_){for(var f=Array(_),h=0;h<_;h++)f[h]=arguments[h+2];a.children=f}if(e&&e.defaultProps)for(s in _=e.defaultProps,_)a[s]===void 0&&(a[s]=_[s]);return{$$typeof:l,type:e,key:c,ref:d,props:a,_owner:K.current}}function N(e,i){return{$$typeof:l,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O(e){return typeof e=="object"&&e!==null&&e.$$typeof===l}function escape(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return i[o]})}var P=/\/+/g;function Q(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape(""+e.key):i.toString(36)}function R(e,i,o,s,a){var c=typeof e;(c==="undefined"||c==="boolean")&&(e=null);var d=!1;if(e===null)d=!0;else switch(c){case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case l:case n:d=!0}}if(d)return d=e,a=a(d),e=s===""?"."+Q(d,0):s,I(a)?(o="",e!=null&&(o=e.replace(P,"$&/")+"/"),R(a,i,o,"",function(h){return h})):a!=null&&(O(a)&&(a=N(a,o+(!a.key||d&&d.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),i.push(a)),1;if(d=0,s=s===""?".":s+":",I(e))for(var _=0;_<e.length;_++){c=e[_];var f=s+Q(c,_);d+=R(c,i,o,f,a)}else if(f=A(e),typeof f=="function")for(e=f.call(e),_=0;!(c=e.next()).done;)c=c.value,f=s+Q(c,_++),d+=R(c,i,o,f,a);else if(c==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return d}function S(e,i,o){if(e==null)return e;var s=[],a=0;return R(e,s,"","",function(c){return i.call(o,c,a++)}),s}function T(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};react_production_min.Children={map:S,forEach:function(e,i,o){S(e,function(){i.apply(this,arguments)},o)},count:function(e){var i=0;return S(e,function(){i++}),i},toArray:function(e){return S(e,function(i){return i})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E;react_production_min.Fragment=p;react_production_min.Profiler=r;react_production_min.PureComponent=G;react_production_min.StrictMode=q;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;react_production_min.cloneElement=function(e,i,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=C({},e.props),a=e.key,c=e.ref,d=e._owner;if(i!=null){if(i.ref!==void 0&&(c=i.ref,d=K.current),i.key!==void 0&&(a=""+i.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for(f in i)J.call(i,f)&&!L.hasOwnProperty(f)&&(s[f]=i[f]===void 0&&_!==void 0?_[f]:i[f])}var f=arguments.length-2;if(f===1)s.children=o;else if(1<f){_=Array(f);for(var h=0;h<f;h++)_[h]=arguments[h+2];s.children=_}return{$$typeof:l,type:e.type,key:a,ref:c,props:s,_owner:d}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M;react_production_min.createFactory=function(e){var i=M.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v,render:e}};react_production_min.isValidElement=O;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V.transition;V.transition={};try{e()}finally{V.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,i){return U.current.useCallback(e,i)};react_production_min.useContext=function(e){return U.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U.current.useEffect(e,i)};react_production_min.useId=function(){return U.current.useId()};react_production_min.useImperativeHandle=function(e,i,o){return U.current.useImperativeHandle(e,i,o)};react_production_min.useInsertionEffect=function(e,i){return U.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,o){return U.current.useReducer(e,i,o)};react_production_min.useRef=function(e){return U.current.useRef(e)};react_production_min.useState=function(e){return U.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,o){return U.current.useSyncExternalStore(e,i,o)};react_production_min.useTransition=function(){return U.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const createReactComponent=(e,i,o,s)=>{const a=reactExports.forwardRef(({color:c="currentColor",size:d=24,stroke:_=2,className:f,children:h,...m},g)=>reactExports.createElement("svg",{ref:g,...defaultAttributes[e],width:d,height:d,className:["tabler-icon",`tabler-icon-${i}`,f].join(" "),strokeWidth:_,stroke:c,...m},[...s.map(([$,j])=>reactExports.createElement($,j)),...Array.isArray(h)?h:[h]]));return a.displayName=`${o}`,a};/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconAt=createReactComponent("outline","at","IconAt",[["path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconCheck=createReactComponent("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconCode=createReactComponent("outline","code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconCursorText=createReactComponent("outline","cursor-text","IconCursorText",[["path",{d:"M10 12h4",key:"svg-0"}],["path",{d:"M9 4a3 3 0 0 1 3 3v10a3 3 0 0 1 -3 3",key:"svg-1"}],["path",{d:"M15 4a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconFileCode2=createReactComponent("outline","file-code-2","IconFileCode2",[["path",{d:"M10 12h-1v5h1",key:"svg-0"}],["path",{d:"M14 12h1v5h-1",key:"svg-1"}],["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-2"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconHash=createReactComponent("outline","hash","IconHash",[["path",{d:"M5 9l14 0",key:"svg-0"}],["path",{d:"M5 15l14 0",key:"svg-1"}],["path",{d:"M11 4l-4 16",key:"svg-2"}],["path",{d:"M17 4l-4 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconMessage=createReactComponent("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconMusic=createReactComponent("outline","music","IconMusic",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconPhoto=createReactComponent("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconVideo=createReactComponent("outline","video","IconVideo",[["path",{d:"M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.4.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IconWebhook=createReactComponent("outline","webhook","IconWebhook",[["path",{d:"M4.876 13.61a4 4 0 1 0 6.124 3.39h6",key:"svg-0"}],["path",{d:"M15.066 20.502a4 4 0 1 0 1.934 -7.502c-.706 0 -1.424 .179 -2 .5l-3 -5.5",key:"svg-1"}],["path",{d:"M16 8a4 4 0 1 0 -8 0c0 1.506 .77 2.818 2 3.5l-3 5.5",key:"svg-2"}]]);const urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let nanoid=(e=21)=>{let i="",o=crypto.getRandomValues(new Uint8Array(e));for(;e--;)i+=urlAlphabet[o[e]&63];return i};const TYPE_INPUT_ELEMENT="text_input",TYPE_EMAIL_INPUT_ELEMENT="email_input",TYPE_NUMBER_INPUT_ELEMENT="number_input",TYPE_CHOICE_INPUT_ELEMENT="choice_input",TYPE_TEXT_BUBBLE_ELEMENT="text_bubble",TYPE_IMAGE_BUBBLE_ELEMENT="image_bubble",TYPE_AUDIO_BUBBLE_ELEMENT="audio_bubble",TYPE_VIDEO_BUBBLE_ELEMENT="video_bubble",vimeoRegex=new RegExp("https?://(?:www\\.)?vimeo\\.com/(\\d+)(?:/([a-zA-Z0-9]+))?(?:\\?([a-zA-Z0-9=&]+))?"),youtubeRegex=new RegExp(`^https?://(?:www.|m.|)(?:youtu.be/|youtube.com/(?:[w-]+?v=|embed/|v/|user/S+|[^/]+?v=))([^&
]+)`),tiktokRegex=new RegExp("https?://(?:www\\.)?tiktok\\.com/(@[a-zA-Z0-9._]+)/video/(\\d+)"),oneDriveRegex=new RegExp("^https?://(?:www.)?onedrive.live.com/(?:redir)??resid=([^&]+)&authkey=([^&]+)");function parseVideoUrl(e){var i,o,s,a,c,d;if(youtubeRegex.test(e)){const _=(i=e.match(youtubeRegex))==null?void 0:i[1];if(_)return{videoId:_,type:"youtube",videoSrc:`https://www.youtube.com/embed/${_}`}}if(vimeoRegex.test(e)){const _=(o=e.match(vimeoRegex))==null?void 0:o[1],f=(s=e.match(vimeoRegex))==null?void 0:s[2];if(_)return{type:"vimeo",videoId:_,videoSrc:f?`https://player.vimeo.com/video/${_}?h=${f}`:`https://player.vimeo.com/video/${_}`}}if(tiktokRegex.test(e)){const _=(a=e.match(tiktokRegex))==null?void 0:a[2];if(_)return{type:"tiktok",videoId:_,videoSrc:`https://www.tiktok.com/embed/${_}`}}if(oneDriveRegex.test(e)){const _=(c=e.match(oneDriveRegex))==null?void 0:c[1],f=(d=e.match(oneDriveRegex))==null?void 0:d[2];if(_&&f)return{type:"direct",videoId:_,videoSrc:`https://onedrive.live.com/redir?resid=${_}&authkey=${f}`}}return{type:"direct",videoSrc:e,videoId:""}}function generateVideoEmbed(e){switch(e.type){case"youtube":return`<iframe width="100%" height="auto" src="${e.videoSrc}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;case"vimeo":return`<iframe src="${e.videoSrc}" width="100%" height="auto" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>`;case"direct":return`<video src="${e.videoSrc}" width="100%" height="auto" controls></video>`;default:return""}}const TYPE_EMBED_BUBBLE_ELEMENT="embed_bubble",TYPE_SCRIPT_LOGIC_ELEMENT="script_logic",TYPE_REQUEST_LOGIC_ELEMENT="request_logic",elementsConfig={[TYPE_INPUT_ELEMENT]:{icon:IconCursorText,group:"Inputs",name:"Input",default:{buttonLabel:"Send",placeholder:"",variable:""}},[TYPE_NUMBER_INPUT_ELEMENT]:{icon:IconHash,group:"Inputs",name:"Number",default:{buttonLabel:"Send",placeholder:"",variable:""}},[TYPE_EMAIL_INPUT_ELEMENT]:{icon:IconAt,group:"Inputs",name:"Email",default:{buttonLabel:"Send",placeholder:"",variable:""}},[TYPE_CHOICE_INPUT_ELEMENT]:{icon:IconCheck,group:"Inputs",name:"Options",default:{options:[{id:nanoid(),label:""}],variable:""}},[TYPE_TEXT_BUBBLE_ELEMENT]:{icon:IconMessage,group:"Bubbles",name:"Text Bubble",default:{text:"Hello!"}},[TYPE_IMAGE_BUBBLE_ELEMENT]:{icon:IconPhoto,group:"Bubbles",name:"Image",default:{url:""}},[TYPE_AUDIO_BUBBLE_ELEMENT]:{icon:IconMusic,group:"Bubbles",name:"Audio",default:{url:""}},[TYPE_VIDEO_BUBBLE_ELEMENT]:{icon:IconVideo,group:"Bubbles",name:"Video",default:{url:""}},[TYPE_EMBED_BUBBLE_ELEMENT]:{icon:IconCode,group:"Bubbles",name:"Embed",default:{code:""}},[TYPE_SCRIPT_LOGIC_ELEMENT]:{icon:IconFileCode2,group:"Logic",name:"Script",default:{name:"Custom Script",code:""}},[TYPE_REQUEST_LOGIC_ELEMENT]:{icon:IconWebhook,group:"Logic",name:"HTTP Request",default:{name:"HTTP Request",request:{url:""}}}};function isGroupElement(e){return Object.keys(elementsConfig).indexOf(e.type)!==-1}function isFromInputsGroup(e){return elementsConfig[e.type].group==="Inputs"}function isGroupElementType(e,i){return e.type===i}function isGroupElementTypes(e,i){return i.includes(e.type)}let formId=writable(),sessionId=writable(),messages=writable([]),displayedMessages=writable([]),pendingCaptures=writable([]),currentInput=writable();function sendMessage({message:e,sessionId:i,formId:o,inputId:s},a){if(!e)return;const c=new FormData;c.set("message",String(e)),c.set("sessionId",i),s&&messages.update(d=>[...[...d].reverse().map(h=>isFromInputsGroup(h)&&s===h.id?{...h,sent:{type:"text",value:e}}:h).reverse()]),fetch(`http://localhost:3000/engage/${o}`,{method:"POST",body:c,headers:{Origin:window.location.origin}}).then(async d=>{const _=await d.json();return a(_)})}function runLogic(capture,callbackData){if(isGroupElementType(capture,TYPE_SCRIPT_LOGIC_ELEMENT)&&(alert("running logic "+capture.type),eval(capture.data.code)),isGroupElementType(capture,TYPE_REQUEST_LOGIC_ELEMENT)&&callbackData){const{sessionId:e,formId:i}=callbackData;fetch(capture.data.request.url).then(async o=>{sendMessage({formId:i,message:await o.text(),sessionId:e},s=>{handleReceivedMessage(s)})})}}function handleReceivedMessage(e,i){var o;if((o=e.captures)!=null&&o.length){pendingCaptures.set([...e.captures.slice(1)||[]]);for(let[s,a]of e.captures.slice(0,1).entries()){let d=1200*s+1;setTimeout(()=>{runLogic(a,{sessionId:e.sessionId,formId:e.formId}),messages.update(_=>[..._,a])},d)}}e.sessionId&&sessionId.set(e.sessionId)}function displayNextCapture(e,i,o){if(!e.length||o)return;const s=e[0];runLogic(s,i),pendingCaptures.update(a=>[...a.slice(1)]),messages.update(a=>[...a,s])}function add_css$6(e){append_styles(e,"svelte-w4fvf6",".dots.svelte-w4fvf6{display:flex}.webble-chat-bubble.svelte-w4fvf6{align-self:start;display:inline;padding-inline:14px;padding-block:12px;border-radius:var(--webble-radius);background:var(--webble-chat-bubble-background);color:var(--webble-chat-bubble-text-color)}.webble-chat-bubble.svelte-w4fvf6 p{margin:0;padding:0}.webble-msg-sent.svelte-w4fvf6{align-self:end;background:var(--webble-chat-bubble-sent-background);color:var(--webble-chat-bubble-sent-text-color)}.circle.svelte-w4fvf6{display:block;height:8px;width:8px;border-radius:50%;background-color:var(--webble-chat-bubble-text-color);margin:3px}.circle.scaling.svelte-w4fvf6{animation:svelte-w4fvf6-typing 1000ms ease-in-out infinite;animation-delay:3600ms}.circle.svelte-w4fvf6:nth-child(1){animation-delay:0ms}.circle.svelte-w4fvf6:nth-child(2){animation-delay:333ms}.circle.svelte-w4fvf6:nth-child(3){animation-delay:666ms}@keyframes svelte-w4fvf6-typing{0%{transform:scale(1)}33%{transform:scale(1)}50%{transform:scale(1.4)}100%{transform:scale(1)}}@keyframes svelte-w4fvf6-bounce{0%{transform:translateY(0)}33%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}")}function create_else_block$1(e){let i;return{c(){i=element("div"),i.innerHTML='<div class="dots svelte-w4fvf6"><span class="circle scaling svelte-w4fvf6"></span> <span class="circle scaling svelte-w4fvf6"></span> <span class="circle scaling svelte-w4fvf6"></span></div>',attr(i,"class","webble-chat-bubble svelte-w4fvf6"),toggle_class(i,"webble-msg-sent",e[0])},m(o,s){insert(o,i,s)},p(o,s){s&1&&toggle_class(i,"webble-msg-sent",o[0])},i:noop,o:noop,d(o){o&&detach(i)}}}function create_if_block$3(e){let i,o,s,a,c,d,_;const f=e[8].default,h=create_slot(f,e,e[7],null);return{c(){i=element("div"),o=element("div"),h&&h.c(),set_style(i,"transform-origin","0 0"),attr(i,"class","webble-chat-bubble svelte-w4fvf6"),toggle_class(i,"webble-msg-sent",e[0])},m(m,g){insert(m,i,g),append(i,o),h&&h.m(o,null),c=!0,d||(_=listen(i,"introend",e[9]),d=!0)},p(m,g){h&&h.p&&(!c||g&128)&&update_slot_base(h,f,m,m[7],c?get_slot_changes(f,m[7],g,null):get_all_dirty_from_scope(m[7]),null),(!c||g&1)&&toggle_class(i,"webble-msg-sent",m[0])},i(m){c||(transition_in(h,m),m&&(s||add_render_callback(()=>{s=create_in_transition(o,fade,{duration:400}),s.start()})),m&&(a||add_render_callback(()=>{a=create_in_transition(i,scale,{duration:200,start:0,opacity:0,easing:quintInOut}),a.start()})),c=!0)},o(m){transition_out(h,m),c=!1},d(m){m&&detach(i),h&&h.d(m),d=!1,_()}}}function create_fragment$6(e){let i,o,s,a,c;const d=[create_if_block$3,create_else_block$1],_=[];function f(h,m){return m&15&&(i=null),i==null&&(i=!!(h[2]||h[0]||h[3].includes(h[1]))),i?0:1}return o=f(e,-1),s=_[o]=d[o](e),{c(){s.c(),a=empty()},m(h,m){_[o].m(h,m),insert(h,a,m),c=!0},p(h,[m]){let g=o;o=f(h,m),o===g?_[o].p(h,m):(group_outros(),transition_out(_[g],1,1,()=>{_[g]=null}),check_outros(),s=_[o],s?s.p(h,m):(s=_[o]=d[o](h),s.c()),transition_in(s,1),s.m(a.parentNode,a))},i(h){c||(transition_in(s),c=!0)},o(h){transition_out(s),c=!1},d(h){h&&detach(a),_[o].d(h)}}}function instance$7(e,i,o){let s,a,c,d;component_subscribe(e,displayedMessages,b=>o(3,s=b)),component_subscribe(e,pendingCaptures,b=>o(4,a=b)),component_subscribe(e,formId,b=>o(5,c=b)),component_subscribe(e,sessionId,b=>o(6,d=b));let{$$slots:_={},$$scope:f}=i,{wasSent:h=!1}=i,{id:m}=i,g=!1;const $=Math.floor(Math.random()*3e3)+1;onMount(()=>{setTimeout(()=>{s.includes(m)||(o(2,g=!0),displayedMessages.update(b=>[...b,m]))},$)});const j=()=>{displayNextCapture(a,{formId:c,sessionId:d})};return e.$$set=b=>{"wasSent"in b&&o(0,h=b.wasSent),"id"in b&&o(1,m=b.id),"$$scope"in b&&o(7,f=b.$$scope)},[h,m,g,s,a,c,d,f,_,j]}class ChatBubble extends SvelteComponent{constructor(i){super(),init(this,i,instance$7,create_fragment$6,safe_not_equal,{wasSent:0,id:1},add_css$6)}get wasSent(){return this.$$.ctx[0]}set wasSent(i){this.$$set({wasSent:i}),flush()}get id(){return this.$$.ctx[1]}set id(i){this.$$set({id:i}),flush()}}create_custom_element(ChatBubble,{wasSent:{type:"Boolean"},id:{}},["default"],[],!0);function add_css$5(e){append_styles(e,"svelte-1dzq9gl",".webble-button.svelte-1dzq9gl{all:unset;flex-grow:1;text-align:center;background:var(--webble-button-background);color:var(--webble-button-text-color);font-size:var(--webble-button-font-size);border-radius:var(--webble-radius);cursor:pointer;border:1px solid var(--webble-button-border);padding-inline:var(--webble-button-padding-inline);padding-block:var(--webble-button-padding-block)}.webble-button.svelte-1dzq9gl:hover{background:var(--webble-button-background-hover)}.webble-button.svelte-1dzq9gl:focus{background:var(--webble-button-background-focus);border:1px solid var(--webble-button-border-focus)}")}function create_fragment$5(e){let i,o,s,a;const c=e[3].default,d=create_slot(c,e,e[2],null);return{c(){i=element("button"),d&&d.c(),attr(i,"type",e[0]),attr(i,"class","webble-button svelte-1dzq9gl")},m(_,f){insert(_,i,f),d&&d.m(i,null),o=!0,s||(a=listen(i,"click",e[1]),s=!0)},p(_,[f]){d&&d.p&&(!o||f&4)&&update_slot_base(d,c,_,_[2],o?get_slot_changes(c,_[2],f,null):get_all_dirty_from_scope(_[2]),null),(!o||f&1)&&attr(i,"type",_[0])},i(_){o||(transition_in(d,_),o=!0)},o(_){transition_out(d,_),o=!1},d(_){_&&detach(i),d&&d.d(_),s=!1,a()}}}function instance$6(e,i,o){let{$$slots:s={},$$scope:a}=i,{type:c="button"}=i;const d=createEventDispatcher();function _(){d("click")}return e.$$set=f=>{"type"in f&&o(0,c=f.type),"$$scope"in f&&o(2,a=f.$$scope)},[c,_,a,s]}class Button extends SvelteComponent{constructor(i){super(),init(this,i,instance$6,create_fragment$5,safe_not_equal,{type:0},add_css$5)}get type(){return this.$$.ctx[0]}set type(i){this.$$set({type:i}),flush()}}create_custom_element(Button,{type:{}},["default"],[],!0);function add_css$4(e){append_styles(e,"svelte-b591zf",`.input-wrapper.svelte-b591zf{display:flex;align-self:end;border-radius:0.5rem;overflow:hidden}.webble-input.svelte-b591zf{display:block;padding:1rem;flex-grow:2;color:#1f2937;border:none;background-color:#f3f4f6;font-size:1rem;outline-offset:2px;outline:2px solid transparent;box-shadow:0 0 #0000,
            0 0 #0000,
            0 1px 2px 0 rgba(0, 0, 0, 0.05)}`)}function create_if_block_2$1(e){let i,o,s;return{c(){i=element("input"),i.autofocus=!0,attr(i,"placeholder",e[0]),attr(i,"autocomplete","email"),attr(i,"type","email"),attr(i,"class","webble-input svelte-b591zf"),i.required=!0},m(a,c){insert(a,i,c),set_input_value(i,e[6]),i.focus(),o||(s=listen(i,"input",e[11]),o=!0)},p(a,c){c&1&&attr(i,"placeholder",a[0]),c&64&&i.value!==a[6]&&set_input_value(i,a[6])},d(a){a&&detach(i),o=!1,s()}}}function create_if_block_1$1(e){let i,o,s;return{c(){i=element("input"),i.autofocus=!0,attr(i,"placeholder",e[0]),attr(i,"class","webble-input svelte-b591zf")},m(a,c){insert(a,i,c),set_input_value(i,e[6]),i.focus(),o||(s=listen(i,"input",e[10]),o=!0)},p(a,c){c&1&&attr(i,"placeholder",a[0]),c&64&&i.value!==a[6]&&set_input_value(i,a[6])},d(a){a&&detach(i),o=!1,s()}}}function create_if_block$2(e){let i,o,s;return{c(){i=element("input"),i.autofocus=!0,attr(i,"min",e[3]),attr(i,"max",e[4]),attr(i,"step",e[5]),attr(i,"type","number"),attr(i,"placeholder",e[0]),attr(i,"class","webble-input svelte-b591zf"),i.required=!0},m(a,c){insert(a,i,c),set_input_value(i,e[6]),i.focus(),o||(s=listen(i,"input",e[9]),o=!0)},p(a,c){c&8&&attr(i,"min",a[3]),c&16&&attr(i,"max",a[4]),c&32&&attr(i,"step",a[5]),c&1&&attr(i,"placeholder",a[0]),c&64&&to_number(i.value)!==a[6]&&set_input_value(i,a[6])},d(a){a&&detach(i),o=!1,s()}}}function create_default_slot$2(e){let i;return{c(){i=text(e[1])},m(o,s){insert(o,i,s)},p(o,s){s&2&&set_data(i,o[1])},d(o){o&&detach(i)}}}function create_fragment$4(e){let i,o,s,a,c,d,_;function f(g,$){if(g[2]==="number")return create_if_block$2;if(g[2]==="text")return create_if_block_1$1;if(g[2]==="email")return create_if_block_2$1}let h=f(e),m=h&&h(e);return s=new Button({props:{type:"submit",$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),{c(){i=element("form"),m&&m.c(),o=space(),a=element("div"),create_component(s.$$.fragment),set_style(a,"display","contents"),set_style(a,"--webble-radius","0px"),attr(i,"class","input-wrapper svelte-b591zf")},m(g,$){insert(g,i,$),m&&m.m(i,null),append(i,o),append(i,a),mount_component(s,a,null),c=!0,d||(_=listen(i,"submit",e[7]),d=!0)},p(g,[$]){h===(h=f(g))&&m?m.p(g,$):(m&&m.d(1),m=h&&h(g),m&&(m.c(),m.m(i,o)));const j={};$&16386&&(j.$$scope={dirty:$,ctx:g}),s.$set(j)},i(g){c||(transition_in(s.$$.fragment,g),c=!0)},o(g){transition_out(s.$$.fragment,g),c=!1},d(g){g&&detach(i),m&&m.d(),destroy_component(s),d=!1,_()}}}function instance$5(e,i,o){let s,a;component_subscribe(e,sessionId,Y=>o(12,s=Y)),component_subscribe(e,formId,Y=>o(13,a=Y));let{id:c}=i,{placeholder:d="Type something..."}=i,{buttonLabel:_="Send"}=i,{type:f="text"}=i,{min:h=void 0}=i,{max:m=void 0}=i,{step:g=void 0}=i,$;function j(Y){Y.preventDefault(),sendMessage({formId:a,message:$,sessionId:s,inputId:c},X=>{handleReceivedMessage(X),o(6,$="")})}function b(){$=to_number(this.value),o(6,$)}function k(){$=this.value,o(6,$)}function te(){$=this.value,o(6,$)}return e.$$set=Y=>{"id"in Y&&o(8,c=Y.id),"placeholder"in Y&&o(0,d=Y.placeholder),"buttonLabel"in Y&&o(1,_=Y.buttonLabel),"type"in Y&&o(2,f=Y.type),"min"in Y&&o(3,h=Y.min),"max"in Y&&o(4,m=Y.max),"step"in Y&&o(5,g=Y.step)},[d,_,f,h,m,g,$,j,c,b,k,te]}class Input extends SvelteComponent{constructor(i){super(),init(this,i,instance$5,create_fragment$4,safe_not_equal,{id:8,placeholder:0,buttonLabel:1,type:2,min:3,max:4,step:5},add_css$4)}get id(){return this.$$.ctx[8]}set id(i){this.$$set({id:i}),flush()}get placeholder(){return this.$$.ctx[0]}set placeholder(i){this.$$set({placeholder:i}),flush()}get buttonLabel(){return this.$$.ctx[1]}set buttonLabel(i){this.$$set({buttonLabel:i}),flush()}get type(){return this.$$.ctx[2]}set type(i){this.$$set({type:i}),flush()}get min(){return this.$$.ctx[3]}set min(i){this.$$set({min:i}),flush()}get max(){return this.$$.ctx[4]}set max(i){this.$$set({max:i}),flush()}get step(){return this.$$.ctx[5]}set step(i){this.$$set({step:i}),flush()}}create_custom_element(Input,{id:{},placeholder:{},buttonLabel:{},type:{},min:{},max:{},step:{}},[],[],!0);function add_css$3(e){append_styles(e,"svelte-8p33yo",".options-container.svelte-8p33yo{font-size:14px;display:flex;flex-wrap:wrap;gap:4px;align-self:end}")}function get_each_context$1(e,i,o){const s=e.slice();return s[5]=i[o],s}function create_if_block$1(e){let i,o;function s(){return e[4](e[5])}return i=new Button({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}}}),i.$on("click",s),{c(){create_component(i.$$.fragment)},m(a,c){mount_component(i,a,c),o=!0},p(a,c){e=a;const d={};c&257&&(d.$$scope={dirty:c,ctx:e}),i.$set(d)},i(a){o||(transition_in(i.$$.fragment,a),o=!0)},o(a){transition_out(i.$$.fragment,a),o=!1},d(a){destroy_component(i,a)}}}function create_default_slot$1(e){let i=e[5].label+"",o;return{c(){o=text(i)},m(s,a){insert(s,o,a)},p(s,a){a&1&&i!==(i=s[5].label+"")&&set_data(o,i)},d(s){s&&detach(o)}}}function create_each_block$1(e){let i,o,s=e[5]&&create_if_block$1(e);return{c(){s&&s.c(),i=empty()},m(a,c){s&&s.m(a,c),insert(a,i,c),o=!0},p(a,c){a[5]?s?(s.p(a,c),c&1&&transition_in(s,1)):(s=create_if_block$1(a),s.c(),transition_in(s,1),s.m(i.parentNode,i)):s&&(group_outros(),transition_out(s,1,1,()=>{s=null}),check_outros())},i(a){o||(transition_in(s),o=!0)},o(a){transition_out(s),o=!1},d(a){a&&detach(i),s&&s.d(a)}}}function create_fragment$3(e){let i,o,s=ensure_array_like(e[0]),a=[];for(let d=0;d<s.length;d+=1)a[d]=create_each_block$1(get_each_context$1(e,s,d));const c=d=>transition_out(a[d],1,1,()=>{a[d]=null});return{c(){i=element("div");for(let d=0;d<a.length;d+=1)a[d].c();attr(i,"class","options-container svelte-8p33yo")},m(d,_){insert(d,i,_);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null);o=!0},p(d,[_]){if(_&15){s=ensure_array_like(d[0]);let f;for(f=0;f<s.length;f+=1){const h=get_each_context$1(d,s,f);a[f]?(a[f].p(h,_),transition_in(a[f],1)):(a[f]=create_each_block$1(h),a[f].c(),transition_in(a[f],1),a[f].m(i,null))}for(group_outros(),f=s.length;f<a.length;f+=1)c(f);check_outros()}},i(d){if(!o){for(let _=0;_<s.length;_+=1)transition_in(a[_]);o=!0}},o(d){a=a.filter(Boolean);for(let _=0;_<a.length;_+=1)transition_out(a[_]);o=!1},d(d){d&&detach(i),destroy_each(a,d)}}}function instance$4(e,i,o){let s,a;component_subscribe(e,formId,f=>o(2,s=f)),component_subscribe(e,sessionId,f=>o(3,a=f));let{options:c=[]}=i,{id:d}=i;const _=f=>{sendMessage({formId:s,message:f.label,sessionId:a,inputId:d},h=>handleReceivedMessage(h))};return e.$$set=f=>{"options"in f&&o(0,c=f.options),"id"in f&&o(1,d=f.id)},[c,d,s,a,_]}class Options extends SvelteComponent{constructor(i){super(),init(this,i,instance$4,create_fragment$3,safe_not_equal,{options:0,id:1},add_css$3)}get options(){return this.$$.ctx[0]}set options(i){this.$$set({options:i}),flush()}get id(){return this.$$.ctx[1]}set id(i){this.$$set({id:i}),flush()}}create_custom_element(Options,{options:{},id:{}},[],[],!0);var defaultInstanceSettings={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},defaultTweenSettings={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},validTransforms=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],cache={CSS:{},springs:{}};function minMax(e,i,o){return Math.min(Math.max(e,i),o)}function stringContains(e,i){return e.indexOf(i)>-1}function applyArguments(e,i){return e.apply(null,i)}var is={arr:function(e){return Array.isArray(e)},obj:function(e){return stringContains(Object.prototype.toString.call(e),"Object")},pth:function(e){return is.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||is.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return is.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return is.hex(e)||is.rgb(e)||is.hsl(e)},key:function(e){return!defaultInstanceSettings.hasOwnProperty(e)&&!defaultTweenSettings.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function parseEasingParameters(e){var i=/\(([^)]+)\)/.exec(e);return i?i[1].split(",").map(function(o){return parseFloat(o)}):[]}function spring(e,i){var o=parseEasingParameters(e),s=minMax(is.und(o[0])?1:o[0],.1,100),a=minMax(is.und(o[1])?100:o[1],.1,100),c=minMax(is.und(o[2])?10:o[2],.1,100),d=minMax(is.und(o[3])?0:o[3],.1,100),_=Math.sqrt(a/s),f=c/(2*Math.sqrt(a*s)),h=f<1?_*Math.sqrt(1-f*f):0,m=1,g=f<1?(f*_+-d)/h:-d+_;function $(b){var k=i?i*b/1e3:b;return f<1?k=Math.exp(-k*f*_)*(m*Math.cos(h*k)+g*Math.sin(h*k)):k=(m+g*k)*Math.exp(-k*_),b===0||b===1?b:1-k}function j(){var b=cache.springs[e];if(b)return b;for(var k=1/6,te=0,Y=0;;)if(te+=k,$(te)===1){if(Y++,Y>=16)break}else Y=0;var X=te*k*1e3;return cache.springs[e]=X,X}return i?$:j}function steps(e){return e===void 0&&(e=10),function(i){return Math.ceil(minMax(i,1e-6,1)*e)*(1/e)}}var bezier=function(){var e=11,i=1/(e-1);function o(m,g){return 1-3*g+3*m}function s(m,g){return 3*g-6*m}function a(m){return 3*m}function c(m,g,$){return((o(g,$)*m+s(g,$))*m+a(g))*m}function d(m,g,$){return 3*o(g,$)*m*m+2*s(g,$)*m+a(g)}function _(m,g,$,j,b){var k,te,Y=0;do te=g+($-g)/2,k=c(te,j,b)-m,k>0?$=te:g=te;while(Math.abs(k)>1e-7&&++Y<10);return te}function f(m,g,$,j){for(var b=0;b<4;++b){var k=d(g,$,j);if(k===0)return g;var te=c(g,$,j)-m;g-=te/k}return g}function h(m,g,$,j){if(!(0<=m&&m<=1&&0<=$&&$<=1))return;var b=new Float32Array(e);if(m!==g||$!==j)for(var k=0;k<e;++k)b[k]=c(k*i,m,$);function te(Y){for(var X=0,Z=1,ee=e-1;Z!==ee&&b[Z]<=Y;++Z)X+=i;--Z;var ne=(Y-b[Z])/(b[Z+1]-b[Z]),re=X+ne*i,ae=d(re,m,$);return ae>=.001?f(Y,re,m,$):ae===0?re:_(Y,X,X+i,m,$)}return function(Y){return m===g&&$===j||Y===0||Y===1?Y:c(te(Y),g,j)}}return h}(),penner=function(){var e={linear:function(){return function(s){return s}}},i={Sine:function(){return function(s){return 1-Math.cos(s*Math.PI/2)}},Expo:function(){return function(s){return s?Math.pow(2,10*s-10):0}},Circ:function(){return function(s){return 1-Math.sqrt(1-s*s)}},Back:function(){return function(s){return s*s*(3*s-2)}},Bounce:function(){return function(s){for(var a,c=4;s<((a=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((a*3-2)/22-s,2)}},Elastic:function(s,a){s===void 0&&(s=1),a===void 0&&(a=.5);var c=minMax(s,1,10),d=minMax(a,.1,2);return function(_){return _===0||_===1?_:-c*Math.pow(2,10*(_-1))*Math.sin((_-1-d/(Math.PI*2)*Math.asin(1/c))*(Math.PI*2)/d)}}},o=["Quad","Cubic","Quart","Quint"];return o.forEach(function(s,a){i[s]=function(){return function(c){return Math.pow(c,a+2)}}}),Object.keys(i).forEach(function(s){var a=i[s];e["easeIn"+s]=a,e["easeOut"+s]=function(c,d){return function(_){return 1-a(c,d)(1-_)}},e["easeInOut"+s]=function(c,d){return function(_){return _<.5?a(c,d)(_*2)/2:1-a(c,d)(_*-2+2)/2}},e["easeOutIn"+s]=function(c,d){return function(_){return _<.5?(1-a(c,d)(1-_*2))/2:(a(c,d)(_*2-1)+1)/2}}}),e}();function parseEasings(e,i){if(is.fnc(e))return e;var o=e.split("(")[0],s=penner[o],a=parseEasingParameters(e);switch(o){case"spring":return spring(e,i);case"cubicBezier":return applyArguments(bezier,a);case"steps":return applyArguments(steps,a);default:return applyArguments(s,a)}}function selectString(e){try{var i=document.querySelectorAll(e);return i}catch{return}}function filterArray(e,i){for(var o=e.length,s=arguments.length>=2?arguments[1]:void 0,a=[],c=0;c<o;c++)if(c in e){var d=e[c];i.call(s,d,c,e)&&a.push(d)}return a}function flattenArray(e){return e.reduce(function(i,o){return i.concat(is.arr(o)?flattenArray(o):o)},[])}function toArray(e){return is.arr(e)?e:(is.str(e)&&(e=selectString(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function arrayContains(e,i){return e.some(function(o){return o===i})}function cloneObject(e){var i={};for(var o in e)i[o]=e[o];return i}function replaceObjectProps(e,i){var o=cloneObject(e);for(var s in e)o[s]=i.hasOwnProperty(s)?i[s]:e[s];return o}function mergeObjects(e,i){var o=cloneObject(e);for(var s in i)o[s]=is.und(e[s])?i[s]:e[s];return o}function rgbToRgba(e){var i=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return i?"rgba("+i[1]+",1)":e}function hexToRgba(e){var i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,o=e.replace(i,function(_,f,h,m){return f+f+h+h+m+m}),s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o),a=parseInt(s[1],16),c=parseInt(s[2],16),d=parseInt(s[3],16);return"rgba("+a+","+c+","+d+",1)"}function hslToRgba(e){var i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),o=parseInt(i[1],10)/360,s=parseInt(i[2],10)/100,a=parseInt(i[3],10)/100,c=i[4]||1;function d($,j,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?$+(j-$)*6*b:b<1/2?j:b<2/3?$+(j-$)*(2/3-b)*6:$}var _,f,h;if(s==0)_=f=h=a;else{var m=a<.5?a*(1+s):a+s-a*s,g=2*a-m;_=d(g,m,o+1/3),f=d(g,m,o),h=d(g,m,o-1/3)}return"rgba("+_*255+","+f*255+","+h*255+","+c+")"}function colorToRgb(e){if(is.rgb(e))return rgbToRgba(e);if(is.hex(e))return hexToRgba(e);if(is.hsl(e))return hslToRgba(e)}function getUnit(e){var i=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(i)return i[1]}function getTransformUnit(e){if(stringContains(e,"translate")||e==="perspective")return"px";if(stringContains(e,"rotate")||stringContains(e,"skew"))return"deg"}function getFunctionValue(e,i){return is.fnc(e)?e(i.target,i.id,i.total):e}function getAttribute(e,i){return e.getAttribute(i)}function convertPxToUnit(e,i,o){var s=getUnit(i);if(arrayContains([o,"deg","rad","turn"],s))return i;var a=cache.CSS[i+o];if(!is.und(a))return a;var c=100,d=document.createElement(e.tagName),_=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;_.appendChild(d),d.style.position="absolute",d.style.width=c+o;var f=c/d.offsetWidth;_.removeChild(d);var h=f*parseFloat(i);return cache.CSS[i+o]=h,h}function getCSSValue(e,i,o){if(i in e.style){var s=i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[i]||getComputedStyle(e).getPropertyValue(s)||"0";return o?convertPxToUnit(e,a,o):a}}function getAnimationType(e,i){if(is.dom(e)&&!is.inp(e)&&(!is.nil(getAttribute(e,i))||is.svg(e)&&e[i]))return"attribute";if(is.dom(e)&&arrayContains(validTransforms,i))return"transform";if(is.dom(e)&&i!=="transform"&&getCSSValue(e,i))return"css";if(e[i]!=null)return"object"}function getElementTransforms(e){if(is.dom(e)){for(var i=e.style.transform||"",o=/(\w+)\(([^)]*)\)/g,s=new Map,a;a=o.exec(i);)s.set(a[1],a[2]);return s}}function getTransformValue(e,i,o,s){var a=stringContains(i,"scale")?1:0+getTransformUnit(i),c=getElementTransforms(e).get(i)||a;return o&&(o.transforms.list.set(i,c),o.transforms.last=i),s?convertPxToUnit(e,c,s):c}function getOriginalTargetValue(e,i,o,s){switch(getAnimationType(e,i)){case"transform":return getTransformValue(e,i,s,o);case"css":return getCSSValue(e,i,o);case"attribute":return getAttribute(e,i);default:return e[i]||0}}function getRelativeValue(e,i){var o=/^(\*=|\+=|-=)/.exec(e);if(!o)return e;var s=getUnit(e)||0,a=parseFloat(i),c=parseFloat(e.replace(o[0],""));switch(o[0][0]){case"+":return a+c+s;case"-":return a-c+s;case"*":return a*c+s}}function validateValue(e,i){if(is.col(e))return colorToRgb(e);if(/\s/g.test(e))return e;var o=getUnit(e),s=o?e.substr(0,e.length-o.length):e;return i?s+i:s}function getDistance(e,i){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function getCircleLength(e){return Math.PI*2*getAttribute(e,"r")}function getRectLength(e){return getAttribute(e,"width")*2+getAttribute(e,"height")*2}function getLineLength(e){return getDistance({x:getAttribute(e,"x1"),y:getAttribute(e,"y1")},{x:getAttribute(e,"x2"),y:getAttribute(e,"y2")})}function getPolylineLength(e){for(var i=e.points,o=0,s,a=0;a<i.numberOfItems;a++){var c=i.getItem(a);a>0&&(o+=getDistance(s,c)),s=c}return o}function getPolygonLength(e){var i=e.points;return getPolylineLength(e)+getDistance(i.getItem(i.numberOfItems-1),i.getItem(0))}function getTotalLength(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return getCircleLength(e);case"rect":return getRectLength(e);case"line":return getLineLength(e);case"polyline":return getPolylineLength(e);case"polygon":return getPolygonLength(e)}}function setDashoffset(e){var i=getTotalLength(e);return e.setAttribute("stroke-dasharray",i),i}function getParentSvgEl(e){for(var i=e.parentNode;is.svg(i)&&is.svg(i.parentNode);)i=i.parentNode;return i}function getParentSvg(e,i){var o=i||{},s=o.el||getParentSvgEl(e),a=s.getBoundingClientRect(),c=getAttribute(s,"viewBox"),d=a.width,_=a.height,f=o.viewBox||(c?c.split(" "):[0,0,d,_]);return{el:s,viewBox:f,x:f[0]/1,y:f[1]/1,w:d,h:_,vW:f[2],vH:f[3]}}function getPath(e,i){var o=is.str(e)?selectString(e)[0]:e,s=i||100;return function(a){return{property:a,el:o,svg:getParentSvg(o),totalLength:getTotalLength(o)*(s/100)}}}function getPathProgress(e,i,o){function s(m){m===void 0&&(m=0);var g=i+m>=1?i+m:0;return e.el.getPointAtLength(g)}var a=getParentSvg(e.el,e.svg),c=s(),d=s(-1),_=s(1),f=o?1:a.w/a.vW,h=o?1:a.h/a.vH;switch(e.property){case"x":return(c.x-a.x)*f;case"y":return(c.y-a.y)*h;case"angle":return Math.atan2(_.y-d.y,_.x-d.x)*180/Math.PI}}function decomposeValue(e,i){var o=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,s=validateValue(is.pth(e)?e.totalLength:e,i)+"";return{original:s,numbers:s.match(o)?s.match(o).map(Number):[0],strings:is.str(e)||i?s.split(o):[]}}function parseTargets(e){var i=e?flattenArray(is.arr(e)?e.map(toArray):toArray(e)):[];return filterArray(i,function(o,s,a){return a.indexOf(o)===s})}function getAnimatables(e){var i=parseTargets(e);return i.map(function(o,s){return{target:o,id:s,total:i.length,transforms:{list:getElementTransforms(o)}}})}function normalizePropertyTweens(e,i){var o=cloneObject(i);if(/^spring/.test(o.easing)&&(o.duration=spring(o.easing)),is.arr(e)){var s=e.length,a=s===2&&!is.obj(e[0]);a?e={value:e}:is.fnc(i.duration)||(o.duration=i.duration/s)}var c=is.arr(e)?e:[e];return c.map(function(d,_){var f=is.obj(d)&&!is.pth(d)?d:{value:d};return is.und(f.delay)&&(f.delay=_?0:i.delay),is.und(f.endDelay)&&(f.endDelay=_===c.length-1?i.endDelay:0),f}).map(function(d){return mergeObjects(d,o)})}function flattenKeyframes(e){for(var i=filterArray(flattenArray(e.map(function(c){return Object.keys(c)})),function(c){return is.key(c)}).reduce(function(c,d){return c.indexOf(d)<0&&c.push(d),c},[]),o={},s=function(c){var d=i[c];o[d]=e.map(function(_){var f={};for(var h in _)is.key(h)?h==d&&(f.value=_[h]):f[h]=_[h];return f})},a=0;a<i.length;a++)s(a);return o}function getProperties(e,i){var o=[],s=i.keyframes;s&&(i=mergeObjects(flattenKeyframes(s),i));for(var a in i)is.key(a)&&o.push({name:a,tweens:normalizePropertyTweens(i[a],e)});return o}function normalizeTweenValues(e,i){var o={};for(var s in e){var a=getFunctionValue(e[s],i);is.arr(a)&&(a=a.map(function(c){return getFunctionValue(c,i)}),a.length===1&&(a=a[0])),o[s]=a}return o.duration=parseFloat(o.duration),o.delay=parseFloat(o.delay),o}function normalizeTweens(e,i){var o;return e.tweens.map(function(s){var a=normalizeTweenValues(s,i),c=a.value,d=is.arr(c)?c[1]:c,_=getUnit(d),f=getOriginalTargetValue(i.target,e.name,_,i),h=o?o.to.original:f,m=is.arr(c)?c[0]:h,g=getUnit(m)||getUnit(f),$=_||g;return is.und(d)&&(d=h),a.from=decomposeValue(m,$),a.to=decomposeValue(getRelativeValue(d,m),$),a.start=o?o.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=parseEasings(a.easing,a.duration),a.isPath=is.pth(c),a.isPathTargetInsideSVG=a.isPath&&is.svg(i.target),a.isColor=is.col(a.from.original),a.isColor&&(a.round=1),o=a,a})}var setProgressValue={css:function(e,i,o){return e.style[i]=o},attribute:function(e,i,o){return e.setAttribute(i,o)},object:function(e,i,o){return e[i]=o},transform:function(e,i,o,s,a){if(s.list.set(i,o),i===s.last||a){var c="";s.list.forEach(function(d,_){c+=_+"("+d+") "}),e.style.transform=c}}};function setTargetsValue(e,i){var o=getAnimatables(e);o.forEach(function(s){for(var a in i){var c=getFunctionValue(i[a],s),d=s.target,_=getUnit(c),f=getOriginalTargetValue(d,a,_,s),h=_||getUnit(f),m=getRelativeValue(validateValue(c,h),f),g=getAnimationType(d,a);setProgressValue[g](d,a,m,s.transforms,!0)}})}function createAnimation(e,i){var o=getAnimationType(e.target,i.name);if(o){var s=normalizeTweens(i,e),a=s[s.length-1];return{type:o,property:i.name,animatable:e,tweens:s,duration:a.end,delay:s[0].delay,endDelay:a.endDelay}}}function getAnimations(e,i){return filterArray(flattenArray(e.map(function(o){return i.map(function(s){return createAnimation(o,s)})})),function(o){return!is.und(o)})}function getInstanceTimings(e,i){var o=e.length,s=function(c){return c.timelineOffset?c.timelineOffset:0},a={};return a.duration=o?Math.max.apply(Math,e.map(function(c){return s(c)+c.duration})):i.duration,a.delay=o?Math.min.apply(Math,e.map(function(c){return s(c)+c.delay})):i.delay,a.endDelay=o?a.duration-Math.max.apply(Math,e.map(function(c){return s(c)+c.duration-c.endDelay})):i.endDelay,a}var instanceID=0;function createNewInstance(e){var i=replaceObjectProps(defaultInstanceSettings,e),o=replaceObjectProps(defaultTweenSettings,e),s=getProperties(o,e),a=getAnimatables(e.targets),c=getAnimations(a,s),d=getInstanceTimings(c,o),_=instanceID;return instanceID++,mergeObjects(i,{id:_,children:[],animatables:a,animations:c,duration:d.duration,delay:d.delay,endDelay:d.endDelay})}var activeInstances=[],engine=function(){var e;function i(){!e&&(!isDocumentHidden()||!anime.suspendWhenDocumentHidden)&&activeInstances.length>0&&(e=requestAnimationFrame(o))}function o(a){for(var c=activeInstances.length,d=0;d<c;){var _=activeInstances[d];_.paused?(activeInstances.splice(d,1),c--):(_.tick(a),d++)}e=d>0?requestAnimationFrame(o):void 0}function s(){anime.suspendWhenDocumentHidden&&(isDocumentHidden()?e=cancelAnimationFrame(e):(activeInstances.forEach(function(a){return a._onDocumentVisibility()}),engine()))}return typeof document<"u"&&document.addEventListener("visibilitychange",s),i}();function isDocumentHidden(){return!!document&&document.hidden}function anime(e){e===void 0&&(e={});var i=0,o=0,s=0,a,c=0,d=null;function _(X){var Z=window.Promise&&new Promise(function(ee){return d=ee});return X.finished=Z,Z}var f=createNewInstance(e);_(f);function h(){var X=f.direction;X!=="alternate"&&(f.direction=X!=="normal"?"normal":"reverse"),f.reversed=!f.reversed,a.forEach(function(Z){return Z.reversed=f.reversed})}function m(X){return f.reversed?f.duration-X:X}function g(){i=0,o=m(f.currentTime)*(1/anime.speed)}function $(X,Z){Z&&Z.seek(X-Z.timelineOffset)}function j(X){if(f.reversePlayback)for(var ee=c;ee--;)$(X,a[ee]);else for(var Z=0;Z<c;Z++)$(X,a[Z])}function b(X){for(var Z=0,ee=f.animations,ne=ee.length;Z<ne;){var re=ee[Z],ae=re.animatable,fe=re.tweens,ue=fe.length-1,ie=fe[ue];ue&&(ie=filterArray(fe,function(Ee){return X<Ee.end})[0]||ie);for(var ce=minMax(X-ie.start-ie.delay,0,ie.duration)/ie.duration,me=isNaN(ce)?1:ie.easing(ce),se=ie.to.strings,he=ie.round,ge=[],ke=ie.to.numbers.length,le=void 0,de=0;de<ke;de++){var _e=void 0,ve=ie.to.numbers[de],ye=ie.from.numbers[de]||0;ie.isPath?_e=getPathProgress(ie.value,me*ve,ie.isPathTargetInsideSVG):_e=ye+me*(ve-ye),he&&(ie.isColor&&de>2||(_e=Math.round(_e*he)/he)),ge.push(_e)}var $e=se.length;if(!$e)le=ge[0];else{le=se[0];for(var pe=0;pe<$e;pe++){se[pe];var we=se[pe+1],be=ge[pe];isNaN(be)||(we?le+=be+we:le+=be+" ")}}setProgressValue[re.type](ae.target,re.property,le,ae.transforms),re.currentValue=le,Z++}}function k(X){f[X]&&!f.passThrough&&f[X](f)}function te(){f.remaining&&f.remaining!==!0&&f.remaining--}function Y(X){var Z=f.duration,ee=f.delay,ne=Z-f.endDelay,re=m(X);f.progress=minMax(re/Z*100,0,100),f.reversePlayback=re<f.currentTime,a&&j(re),!f.began&&f.currentTime>0&&(f.began=!0,k("begin")),!f.loopBegan&&f.currentTime>0&&(f.loopBegan=!0,k("loopBegin")),re<=ee&&f.currentTime!==0&&b(0),(re>=ne&&f.currentTime!==Z||!Z)&&b(Z),re>ee&&re<ne?(f.changeBegan||(f.changeBegan=!0,f.changeCompleted=!1,k("changeBegin")),k("change"),b(re)):f.changeBegan&&(f.changeCompleted=!0,f.changeBegan=!1,k("changeComplete")),f.currentTime=minMax(re,0,Z),f.began&&k("update"),X>=Z&&(o=0,te(),f.remaining?(i=s,k("loopComplete"),f.loopBegan=!1,f.direction==="alternate"&&h()):(f.paused=!0,f.completed||(f.completed=!0,k("loopComplete"),k("complete"),!f.passThrough&&"Promise"in window&&(d(),_(f)))))}return f.reset=function(){var X=f.direction;f.passThrough=!1,f.currentTime=0,f.progress=0,f.paused=!0,f.began=!1,f.loopBegan=!1,f.changeBegan=!1,f.completed=!1,f.changeCompleted=!1,f.reversePlayback=!1,f.reversed=X==="reverse",f.remaining=f.loop,a=f.children,c=a.length;for(var Z=c;Z--;)f.children[Z].reset();(f.reversed&&f.loop!==!0||X==="alternate"&&f.loop===1)&&f.remaining++,b(f.reversed?f.duration:0)},f._onDocumentVisibility=g,f.set=function(X,Z){return setTargetsValue(X,Z),f},f.tick=function(X){s=X,i||(i=s),Y((s+(o-i))*anime.speed)},f.seek=function(X){Y(m(X))},f.pause=function(){f.paused=!0,g()},f.play=function(){f.paused&&(f.completed&&f.reset(),f.paused=!1,activeInstances.push(f),g(),engine())},f.reverse=function(){h(),f.completed=!f.reversed,g()},f.restart=function(){f.reset(),f.play()},f.remove=function(X){var Z=parseTargets(X);removeTargetsFromInstance(Z,f)},f.reset(),f.autoplay&&f.play(),f}function removeTargetsFromAnimations(e,i){for(var o=i.length;o--;)arrayContains(e,i[o].animatable.target)&&i.splice(o,1)}function removeTargetsFromInstance(e,i){var o=i.animations,s=i.children;removeTargetsFromAnimations(e,o);for(var a=s.length;a--;){var c=s[a],d=c.animations;removeTargetsFromAnimations(e,d),!d.length&&!c.children.length&&s.splice(a,1)}!o.length&&!s.length&&i.pause()}function removeTargetsFromActiveInstances(e){for(var i=parseTargets(e),o=activeInstances.length;o--;){var s=activeInstances[o];removeTargetsFromInstance(i,s)}}function stagger(e,i){i===void 0&&(i={});var o=i.direction||"normal",s=i.easing?parseEasings(i.easing):null,a=i.grid,c=i.axis,d=i.from||0,_=d==="first",f=d==="center",h=d==="last",m=is.arr(e),g=parseFloat(m?e[0]:e),$=m?parseFloat(e[1]):0,j=getUnit(m?e[1]:e)||0,b=i.start||0+(m?g:0),k=[],te=0;return function(Y,X,Z){if(_&&(d=0),f&&(d=(Z-1)/2),h&&(d=Z-1),!k.length){for(var ee=0;ee<Z;ee++){if(!a)k.push(Math.abs(d-ee));else{var ne=f?(a[0]-1)/2:d%a[0],re=f?(a[1]-1)/2:Math.floor(d/a[0]),ae=ee%a[0],fe=Math.floor(ee/a[0]),ue=ne-ae,ie=re-fe,ce=Math.sqrt(ue*ue+ie*ie);c==="x"&&(ce=-ue),c==="y"&&(ce=-ie),k.push(ce)}te=Math.max.apply(Math,k)}s&&(k=k.map(function(se){return s(se/te)*te})),o==="reverse"&&(k=k.map(function(se){return c?se<0?se*-1:-se:Math.abs(te-se)}))}var me=m?($-g)/te:g;return b+me*(Math.round(k[X]*100)/100)+j}}function timeline(e){e===void 0&&(e={});var i=anime(e);return i.duration=0,i.add=function(o,s){var a=activeInstances.indexOf(i),c=i.children;a>-1&&activeInstances.splice(a,1);function d($){$.passThrough=!0}for(var _=0;_<c.length;_++)d(c[_]);var f=mergeObjects(o,replaceObjectProps(defaultTweenSettings,e));f.targets=f.targets||e.targets;var h=i.duration;f.autoplay=!1,f.direction=i.direction,f.timelineOffset=is.und(s)?h:getRelativeValue(s,h),d(i),i.seek(f.timelineOffset);var m=anime(f);d(m),c.push(m);var g=getInstanceTimings(c,e);return i.delay=g.delay,i.endDelay=g.endDelay,i.duration=g.duration,i.seek(0),i.reset(),i.autoplay&&i.play(),i},i}anime.version="3.2.1";anime.speed=1;anime.suspendWhenDocumentHidden=!0;anime.running=activeInstances;anime.remove=removeTargetsFromActiveInstances;anime.get=getOriginalTargetValue;anime.set=setTargetsValue;anime.convertPx=convertPxToUnit;anime.path=getPath;anime.setDashoffset=setDashoffset;anime.stagger=stagger;anime.timeline=timeline;anime.easing=parseEasings;anime.penner=penner;anime.random=function(e,i){return Math.floor(Math.random()*(i-e+1))+e};function add_css$2(e){append_styles(e,"svelte-htgd3v","audio.svelte-htgd3v::-webkit-media-controls-panel{background-color:var(--webble-chat-bubble-background)}audio.svelte-htgd3v::-webkit-media-controls-time-remaining-display{color:var(--webble-chat-bubble-text-color)}audio.svelte-htgd3v::-webkit-media-controls-current-time-display{color:var(--webble-chat-bubble-text-color);-webkit-filter:blur(0px)}audio.svelte-htgd3v::-webkit-media-controls-play-button{background-color:var(--webble-chat-bubble-background);color:var(--webble-chat-bubble-text-color);border-radius:50%}audio.svelte-htgd3v::-webkit-media-controls-mute-button{background-color:var(--webble-chat-bubble-background);color:var(--webble-chat-bubble-text-color);border-radius:50%}audio.svelte-htgd3v::-webkit-media-controls-timeline{background-color:var(--webble-chat-bubble-background);border-radius:25px;margin-left:10px;margin-right:10px}")}function create_fragment$2(e){let i,o;return{c(){i=element("audio"),i.controls=!0,src_url_equal(i.src,o=e[0])||attr(i,"src",o),attr(i,"class","svelte-htgd3v")},m(s,a){insert(s,i,a)},p(s,[a]){a&1&&!src_url_equal(i.src,o=s[0])&&attr(i,"src",o)},i:noop,o:noop,d(s){s&&detach(i)}}}function instance$3(e,i,o){let{url:s=""}=i;return e.$$set=a=>{"url"in a&&o(0,s=a.url)},[s]}class Audio extends SvelteComponent{constructor(i){super(),init(this,i,instance$3,create_fragment$2,safe_not_equal,{url:0},add_css$2)}get url(){return this.$$.ctx[0]}set url(i){this.$$set({url:i}),flush()}}create_custom_element(Audio,{url:{}},[],[],!0);function instance$2(e,i,o){let s,a,c;return component_subscribe(e,sessionId,d=>o(0,s=d)),component_subscribe(e,formId,d=>o(1,a=d)),component_subscribe(e,pendingCaptures,d=>o(2,c=d)),onMount(()=>{displayNextCapture(c,{formId:a,sessionId:s})}),[]}class Logic extends SvelteComponent{constructor(i){super(),init(this,i,instance$2,null,safe_not_equal,{})}}create_custom_element(Logic,{},[],[],!0);function add_css$1(e){append_styles(e,"svelte-l3bcmc",':root{font-family:"Nunito", sans-serif;font-optical-sizing:auto;font-style:normal}.webble-chat-container.svelte-l3bcmc{box-sizing:border-box;display:flex;padding:14px;overflow-y:auto;gap:14px;flex-direction:column;align-items:start;background:var(--webble-chat-background);min-height:var(--webble-chat-container-min-height);width:100%;max-width:800px}')}function get_each_context(e,i,o){const s=e.slice();return s[2]=i[o],s[4]=o,s}function create_if_block_10(e){let i,o;return i=new ChatBubble({props:{id:e[2].id,$$slots:{default:[create_default_slot_4]},$$scope:{ctx:e}}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.id=s[2].id),a&33&&(c.$$scope={dirty:a,ctx:s}),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_default_slot_4(e){let i,o=e[2].data.text+"",s;return{c(){i=new HtmlTag(!1),s=empty(),i.a=s},m(a,c){i.m(o,a,c),insert(a,s,c)},p(a,c){c&1&&o!==(o=a[2].data.text+"")&&i.p(o)},d(a){a&&(detach(s),i.d())}}}function create_if_block_9(e){let i,o;return i=new Logic({}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_if_block_8(e){let i,o;return i=new ChatBubble({props:{id:e[2].id,$$slots:{default:[create_default_slot_3]},$$scope:{ctx:e}}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.id=s[2].id),a&33&&(c.$$scope={dirty:a,ctx:s}),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_default_slot_3(e){let i,o;return{c(){i=element("img"),set_style(i,"max-height","448px"),src_url_equal(i.src,o=e[2].data.url)||attr(i,"src",o),attr(i,"width","100%"),attr(i,"height","auto"),attr(i,"alt","Chat item")},m(s,a){insert(s,i,a)},p(s,a){a&1&&!src_url_equal(i.src,o=s[2].data.url)&&attr(i,"src",o)},d(s){s&&detach(i)}}}function create_if_block_7(e){let i,o;return i=new ChatBubble({props:{id:e[2].id,$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.id=s[2].id),a&33&&(c.$$scope={dirty:a,ctx:s}),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_default_slot_2(e){let i,o;return i=new Audio({props:{url:e[2].data.url}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.url=s[2].data.url),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_if_block_6(e){let i,o;return i=new ChatBubble({props:{id:e[2].id,$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.id=s[2].id),a&33&&(c.$$scope={dirty:a,ctx:s}),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_default_slot_1(e){let i,o=generateVideoEmbed(parseVideoUrl(e[2].data.url))+"",s;return{c(){i=new HtmlTag(!1),s=empty(),i.a=s},m(a,c){i.m(o,a,c),insert(a,s,c)},p(a,c){c&1&&o!==(o=generateVideoEmbed(parseVideoUrl(a[2].data.url))+"")&&i.p(o)},d(a){a&&(detach(s),i.d())}}}function create_if_block(e){let i,o,s,a,c;const d=[create_if_block_1,create_else_block],_=[];function f(h,m){var g,$;return m&1&&(i=null),i==null&&(i=!!(isGroupElement(h[2])&&(($=(g=h[2])==null?void 0:g.sent)!=null&&$.value))),i?0:1}return o=f(e,-1),s=_[o]=d[o](e),{c(){s.c(),a=empty()},m(h,m){_[o].m(h,m),insert(h,a,m),c=!0},p(h,m){let g=o;o=f(h,m),o===g?_[o].p(h,m):(group_outros(),transition_out(_[g],1,1,()=>{_[g]=null}),check_outros(),s=_[o],s?s.p(h,m):(s=_[o]=d[o](h),s.c()),transition_in(s,1),s.m(a.parentNode,a))},i(h){c||(transition_in(s),c=!0)},o(h){transition_out(s),c=!1},d(h){h&&detach(a),_[o].d(h)}}}function create_else_block(e){let i=isGroupElementType(e[2],"choice_input"),o,s=isGroupElementType(e[2],"text_input"),a,c=isGroupElementType(e[2],"number_input"),d,_=isGroupElementType(e[2],"email_input"),f,h,m=i&&create_if_block_5(e),g=s&&create_if_block_4(e),$=c&&create_if_block_3(e),j=_&&create_if_block_2(e);return{c(){m&&m.c(),o=space(),g&&g.c(),a=space(),$&&$.c(),d=space(),j&&j.c(),f=empty()},m(b,k){m&&m.m(b,k),insert(b,o,k),g&&g.m(b,k),insert(b,a,k),$&&$.m(b,k),insert(b,d,k),j&&j.m(b,k),insert(b,f,k),h=!0},p(b,k){k&1&&(i=isGroupElementType(b[2],"choice_input")),i?m?(m.p(b,k),k&1&&transition_in(m,1)):(m=create_if_block_5(b),m.c(),transition_in(m,1),m.m(o.parentNode,o)):m&&(group_outros(),transition_out(m,1,1,()=>{m=null}),check_outros()),k&1&&(s=isGroupElementType(b[2],"text_input")),s?g?(g.p(b,k),k&1&&transition_in(g,1)):(g=create_if_block_4(b),g.c(),transition_in(g,1),g.m(a.parentNode,a)):g&&(group_outros(),transition_out(g,1,1,()=>{g=null}),check_outros()),k&1&&(c=isGroupElementType(b[2],"number_input")),c?$?($.p(b,k),k&1&&transition_in($,1)):($=create_if_block_3(b),$.c(),transition_in($,1),$.m(d.parentNode,d)):$&&(group_outros(),transition_out($,1,1,()=>{$=null}),check_outros()),k&1&&(_=isGroupElementType(b[2],"email_input")),_?j?(j.p(b,k),k&1&&transition_in(j,1)):(j=create_if_block_2(b),j.c(),transition_in(j,1),j.m(f.parentNode,f)):j&&(group_outros(),transition_out(j,1,1,()=>{j=null}),check_outros())},i(b){h||(transition_in(m),transition_in(g),transition_in($),transition_in(j),h=!0)},o(b){transition_out(m),transition_out(g),transition_out($),transition_out(j),h=!1},d(b){b&&(detach(o),detach(a),detach(d),detach(f)),m&&m.d(b),g&&g.d(b),$&&$.d(b),j&&j.d(b)}}}function create_if_block_1(e){let i,o;return i=new ChatBubble({props:{id:e[2].id,wasSent:!0,index:e[4],$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.id=s[2].id),a&33&&(c.$$scope={dirty:a,ctx:s}),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_if_block_5(e){let i,o;return i=new Options({props:{id:e[2].id,options:e[2].data.options}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.id=s[2].id),a&1&&(c.options=s[2].data.options),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_if_block_4(e){let i,o;return i=new Input({props:{id:e[2].id,placeholder:e[2].data.placeholder,buttonLabel:e[2].data.buttonLabel}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.id=s[2].id),a&1&&(c.placeholder=s[2].data.placeholder),a&1&&(c.buttonLabel=s[2].data.buttonLabel),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_if_block_3(e){let i,o;return i=new Input({props:{type:"number",max:e[2].data.max,id:e[2].id,step:e[2].data.step,min:e[2].data.min,placeholder:e[2].data.placeholder,buttonLabel:e[2].data.buttonLabel}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.max=s[2].data.max),a&1&&(c.id=s[2].id),a&1&&(c.step=s[2].data.step),a&1&&(c.min=s[2].data.min),a&1&&(c.placeholder=s[2].data.placeholder),a&1&&(c.buttonLabel=s[2].data.buttonLabel),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_if_block_2(e){let i,o;return i=new Input({props:{id:e[2].id,type:"email",placeholder:e[2].data.placeholder,buttonLabel:e[2].data.buttonLabel}}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p(s,a){const c={};a&1&&(c.id=s[2].id),a&1&&(c.placeholder=s[2].data.placeholder),a&1&&(c.buttonLabel=s[2].data.buttonLabel),i.$set(c)},i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function create_default_slot(e){let i=e[2].sent.value+"",o;return{c(){o=text(i)},m(s,a){insert(s,o,a)},p(s,a){a&1&&i!==(i=s[2].sent.value+"")&&set_data(o,i)},d(s){s&&detach(o)}}}function create_each_block(e){let i=isGroupElementType(e[2],"text_bubble"),o,s=isGroupElementTypes(e[2],["script_logic","request_logic"]),a,c=isGroupElementType(e[2],"image_bubble"),d,_=isGroupElementType(e[2],"audio_bubble"),f,h=isGroupElementType(e[2],"video_bubble"),m,g=isFromInputsGroup(e[2]),$,j,b=i&&create_if_block_10(e),k=s&&create_if_block_9(),te=c&&create_if_block_8(e),Y=_&&create_if_block_7(e),X=h&&create_if_block_6(e),Z=g&&create_if_block(e);return{c(){b&&b.c(),o=space(),k&&k.c(),a=space(),te&&te.c(),d=space(),Y&&Y.c(),f=space(),X&&X.c(),m=space(),Z&&Z.c(),$=empty()},m(ee,ne){b&&b.m(ee,ne),insert(ee,o,ne),k&&k.m(ee,ne),insert(ee,a,ne),te&&te.m(ee,ne),insert(ee,d,ne),Y&&Y.m(ee,ne),insert(ee,f,ne),X&&X.m(ee,ne),insert(ee,m,ne),Z&&Z.m(ee,ne),insert(ee,$,ne),j=!0},p(ee,ne){ne&1&&(i=isGroupElementType(ee[2],"text_bubble")),i?b?(b.p(ee,ne),ne&1&&transition_in(b,1)):(b=create_if_block_10(ee),b.c(),transition_in(b,1),b.m(o.parentNode,o)):b&&(group_outros(),transition_out(b,1,1,()=>{b=null}),check_outros()),ne&1&&(s=isGroupElementTypes(ee[2],["script_logic","request_logic"])),s?k?ne&1&&transition_in(k,1):(k=create_if_block_9(),k.c(),transition_in(k,1),k.m(a.parentNode,a)):k&&(group_outros(),transition_out(k,1,1,()=>{k=null}),check_outros()),ne&1&&(c=isGroupElementType(ee[2],"image_bubble")),c?te?(te.p(ee,ne),ne&1&&transition_in(te,1)):(te=create_if_block_8(ee),te.c(),transition_in(te,1),te.m(d.parentNode,d)):te&&(group_outros(),transition_out(te,1,1,()=>{te=null}),check_outros()),ne&1&&(_=isGroupElementType(ee[2],"audio_bubble")),_?Y?(Y.p(ee,ne),ne&1&&transition_in(Y,1)):(Y=create_if_block_7(ee),Y.c(),transition_in(Y,1),Y.m(f.parentNode,f)):Y&&(group_outros(),transition_out(Y,1,1,()=>{Y=null}),check_outros()),ne&1&&(h=isGroupElementType(ee[2],"video_bubble")),h?X?(X.p(ee,ne),ne&1&&transition_in(X,1)):(X=create_if_block_6(ee),X.c(),transition_in(X,1),X.m(m.parentNode,m)):X&&(group_outros(),transition_out(X,1,1,()=>{X=null}),check_outros()),ne&1&&(g=isFromInputsGroup(ee[2])),g?Z?(Z.p(ee,ne),ne&1&&transition_in(Z,1)):(Z=create_if_block(ee),Z.c(),transition_in(Z,1),Z.m($.parentNode,$)):Z&&(group_outros(),transition_out(Z,1,1,()=>{Z=null}),check_outros())},i(ee){j||(transition_in(b),transition_in(k),transition_in(te),transition_in(Y),transition_in(X),transition_in(Z),j=!0)},o(ee){transition_out(b),transition_out(k),transition_out(te),transition_out(Y),transition_out(X),transition_out(Z),j=!1},d(ee){ee&&(detach(o),detach(a),detach(d),detach(f),detach(m),detach($)),b&&b.d(ee),k&&k.d(ee),te&&te.d(ee),Y&&Y.d(ee),X&&X.d(ee),Z&&Z.d(ee)}}}function create_fragment$1(e){let i,o,s,a,c,d,_,f,h=ensure_array_like(e[0]),m=[];for(let $=0;$<h.length;$+=1)m[$]=create_each_block(get_each_context(e,h,$));const g=$=>transition_out(m[$],1,1,()=>{m[$]=null});return{c(){i=element("link"),o=element("link"),s=element("link"),a=space(),c=element("div");for(let $=0;$<m.length;$+=1)m[$].c();attr(i,"rel","preconnect"),attr(i,"href","https://fonts.googleapis.com"),attr(o,"rel","preconnect"),attr(o,"href","https://fonts.gstatic.com"),attr(o,"crossorigin","anonymous"),attr(s,"href","https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"),attr(s,"rel","stylesheet"),attr(c,"class","webble-chat-container svelte-l3bcmc")},m($,j){append(document.head,i),append(document.head,o),append(document.head,s),insert($,a,j),insert($,c,j);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(c,null);d=!0,_||(f=action_destroyer(e[1].call(null,c)),_=!0)},p($,[j]){if(j&1){h=ensure_array_like($[0]);let b;for(b=0;b<h.length;b+=1){const k=get_each_context($,h,b);m[b]?(m[b].p(k,j),transition_in(m[b],1)):(m[b]=create_each_block(k),m[b].c(),transition_in(m[b],1),m[b].m(c,null))}for(group_outros(),b=h.length;b<m.length;b+=1)g(b);check_outros()}},i($){if(!d){for(let j=0;j<h.length;j+=1)transition_in(m[j]);d=!0}},o($){m=m.filter(Boolean);for(let j=0;j<m.length;j+=1)transition_out(m[j]);d=!1},d($){$&&(detach(a),detach(c)),detach(i),detach(o),detach(s),destroy_each(m,$),_=!1,f()}}}function instance$1(e,i,o){let s;return component_subscribe(e,messages,c=>o(0,s=c)),[s,c=>{const d=()=>c.scroll({top:c.scrollHeight,behavior:"smooth"});return d(),{update:d}}]}class ChatContainer extends SvelteComponent{constructor(i){super(),init(this,i,instance$1,create_fragment$1,safe_not_equal,{},add_css$1)}}create_custom_element(ChatContainer,{},[],[],!0);function add_css(e){append_styles(e,"svelte-180vf9v",":root{height:100%;--webble-chat-background:#f9f9f9;--webble-chat-bubble-background:#eae7ec;--webble-chat-bubble-text-color:#202020;--webble-chat-bubble-sent-background:#6e56cf;--webble-chat-bubble-sent-text-color:#f4f0fe;--webble-primary-border:#c2b5f5;--webble-radius:6px;--webble-button-background:#6e56cf;--webble-button-background-hover:#654dc4;--webble-button-background-focus:#654dc4;--webble-button-border:#c2b5f5;--webble-button-border-focus:#d4cafe;--webble-button-text-color:#f4f0fe;--webble-button-padding-inline:16px;--webble-button-padding-block:8px;--webble-button-font-size:16px}")}function create_fragment(e){let i,o;return i=new ChatContainer({}),{c(){create_component(i.$$.fragment)},m(s,a){mount_component(i,s,a),o=!0},p:noop,i(s){o||(transition_in(i.$$.fragment,s),o=!0)},o(s){transition_out(i.$$.fragment,s),o=!1},d(s){destroy_component(i,s)}}}function instance(e,i,o){let s;component_subscribe(e,sessionId,f=>o(3,s=f));let{formId:a=""}=i,{inputValue:c=""}=i;const d=createEventDispatcher();messages.subscribe(f=>{var h;(h=f[f.length-1])!=null&&h.id&&d("targetChange",{groupId:f[f.length-1].groupId,elementId:f[f.length-1].id})});function _(){let f=new FormData;f.set("message",""),f.set("sessionId",""),sessionId.set(""),messages.set([]),displayedMessages.set([]),currentInput.set(null),fetch(`http://localhost:3000/engage/${a}`,{method:"POST",body:f,headers:{Origin:window.location.origin}}).then(async h=>{const m=await h.json();return handleReceivedMessage(m),m})}return onMount(()=>{a&&!s&&_()}),e.$$set=f=>{"formId"in f&&o(0,a=f.formId),"inputValue"in f&&o(1,c=f.inputValue)},e.$$.update=()=>{e.$$.dirty&1&&formId.set(a)},[a,c,_]}class App extends SvelteComponent{constructor(i){super(),init(this,i,instance,create_fragment,safe_not_equal,{formId:0,inputValue:1,reset:2},add_css)}get formId(){return this.$$.ctx[0]}set formId(i){this.$$set({formId:i}),flush()}get inputValue(){return this.$$.ctx[1]}set inputValue(i){this.$$set({inputValue:i}),flush()}get reset(){return this.$$.ctx[2]}}customElements.define("webble-chatbox",create_custom_element(App,{formId:{},inputValue:{}},[],["reset"],!0));
