var lt=Object.defineProperty;var rt=(t,e,n)=>e in t?lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var k=(t,e,n)=>(rt(t,typeof e!="symbol"?e+"":e,n),n);function I(){}const Je=t=>t;function ut(t,e){for(const n in e)t[n]=e[n];return t}function Ue(t){return t()}function Ne(){return Object.create(null)}function T(t){t.forEach(Ue)}function $e(t){return typeof t=="function"}function F(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ct(t){return Object.keys(t).length===0}function ft(t,...e){if(t==null){for(const s of e)s(void 0);return I}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function O(t,e,n){t.$$.on_destroy.push(ft(e,n))}function me(t,e,n,s){if(t){const i=Ge(t,e,n,s);return t[0](i)}}function Ge(t,e,n,s){return t[1]&&s?ut(n.ctx.slice(),t[1](s(e))):n.ctx}function _e(t,e,n,s){if(t[2]&&s){const i=t[2](s(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const l=[],o=Math.max(e.dirty.length,i.length);for(let r=0;r<o;r+=1)l[r]=e.dirty[r]|i[r];return l}return e.dirty|i}return e.dirty}function ge(t,e,n,s,i,l){if(i){const o=Ge(e,n,s,l);t.p(o,i)}}function we(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}const Ke=typeof window<"u";let at=Ke?()=>window.performance.now():()=>Date.now(),ye=Ke?t=>requestAnimationFrame(t):I;const M=new Set;function Qe(t){M.forEach(e=>{e.c(t)||(M.delete(e),e.f())}),M.size!==0&&ye(Qe)}function dt(t){let e;return M.size===0&&ye(Qe),{promise:new Promise(n=>{M.add(e={c:t,f:n})}),abort(){M.delete(e)}}}function N(t,e){t.appendChild(e)}function H(t,e,n){const s=ke(t);if(!s.getElementById(e)){const i=y("style");i.id=e,i.textContent=n,We(s,i)}}function ke(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function bt(t){const e=y("style");return e.textContent="/* empty */",We(ke(t),e),e.sheet}function We(t,e){return N(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function Xe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function X(t){return document.createTextNode(t)}function q(){return X(" ")}function ve(){return X("")}function xe(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ye(t){return t===""?null:+t}function ht(t){return Array.from(t.childNodes)}function Ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function te(t,e){t.value=e??""}function Oe(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Ze(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}function pt(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}const ne=new Map;let se=0;function $t(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function mt(t,e){const n={stylesheet:bt(e),rules:{}};return ne.set(t,n),n}function Fe(t,e,n,s,i,l,o,r=0){const u=16.666/s;let c=`{
`;for(let x=0;x<=1;x+=u){const A=e+(n-e)*l(x);c+=x*100+`%{${o(A,1-A)}}
`}const h=c+`100% {${o(n,1-n)}}
}`,f=`__svelte_${$t(h)}_${r}`,d=ke(t),{stylesheet:m,rules:a}=ne.get(d)||mt(d,t);a[f]||(a[f]=!0,m.insertRule(`@keyframes ${f} ${h}`,m.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${f} ${s}ms linear ${i}ms 1 both`,se+=1,f}function _t(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),i=n.length-s.length;i&&(t.style.animation=s.join(", "),se-=i,se||gt())}function gt(){ye(()=>{se||(ne.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&g(e)}),ne.clear())})}let W;function Q(t){W=t}function wt(){if(!W)throw new Error("Function called outside component initialization");return W}function yt(){const t=wt();return(e,n,{cancelable:s=!1}={})=>{const i=t.$$.callbacks[e];if(i){const l=Ze(e,n,{cancelable:s});return i.slice().forEach(o=>{o.call(t,l)}),!l.defaultPrevented}return!0}}const D=[],ze=[];let V=[];const Ae=[],kt=Promise.resolve();let he=!1;function vt(){he||(he=!0,kt.then(v))}function R(t){V.push(t)}const de=new Set;let P=0;function v(){if(P!==0)return;const t=W;do{try{for(;P<D.length;){const e=D[P];P++,Q(e),xt(e.$$)}}catch(e){throw D.length=0,P=0,e}for(Q(null),D.length=0,P=0;ze.length;)ze.pop()();for(let e=0;e<V.length;e+=1){const n=V[e];de.has(n)||(de.add(n),n())}V.length=0}while(D.length);for(;Ae.length;)Ae.pop()();he=!1,de.clear(),Q(t)}function xt(t){if(t.fragment!==null){t.update(),T(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(R)}}function Et(t){const e=[],n=[];V.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),V=e}let K;function It(){return K||(K=Promise.resolve(),K.then(()=>{K=null})),K}function be(t,e,n){t.dispatchEvent(Ze(`${e?"intro":"outro"}${n}`))}const Z=new Set;let E;function j(){E={r:0,c:[],p:E}}function C(){E.r||T(E.c),E=E.p}function b(t,e){t&&t.i&&(Z.delete(t),t.i(e))}function _(t,e,n,s){if(t&&t.o){if(Z.has(t))return;Z.add(t),E.c.push(()=>{Z.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const jt={duration:0};function ie(t,e,n,s){let l=e(t,n,{direction:"both"}),o=s?0:1,r=null,u=null,c=null,h;function f(){c&&_t(t,c)}function d(a,p){const x=a.b-o;return p*=Math.abs(x),{a:o,b:a.b,d:x,duration:p,start:a.start,end:a.start+p,group:a.group}}function m(a){const{delay:p=0,duration:x=300,easing:A=Je,tick:ce=I,css:fe}=l||jt,ae={start:at()+p,b:a};a||(ae.group=E,E.r+=1),"inert"in t&&(a?h!==void 0&&(t.inert=h):(h=t.inert,t.inert=!0)),r||u?u=ae:(fe&&(f(),c=Fe(t,o,a,x,p,A,fe)),a&&ce(0,1),r=d(ae,x),R(()=>be(t,a,"start")),dt(Y=>{if(u&&Y>u.start&&(r=d(u,x),u=null,be(t,r.b,"start"),fe&&(f(),c=Fe(t,o,r.b,r.duration,0,A,l.css))),r){if(Y>=r.end)ce(o=r.b,1-o),be(t,r.b,"end"),u||(r.b?f():--r.group.r||T(r.group.c)),r=null;else if(Y>=r.start){const ot=Y-r.start;o=r.a+r.d*A(ot/r.duration),ce(o,1-o)}}return!!(r||u)}))}return{run(a){$e(l)?It().then(()=>{l=l({direction:a?"in":"out"}),m(a)}):m(a)},end(){f(),r=u=null}}}function oe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function z(t){t&&t.c()}function L(t,e,n){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),R(()=>{const l=t.$$.on_mount.map(Ue).filter($e);t.$$.on_destroy?t.$$.on_destroy.push(...l):T(l),t.$$.on_mount=[]}),i.forEach(R)}function S(t,e){const n=t.$$;n.fragment!==null&&(Et(n.after_update),T(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(t,e){t.$$.dirty[0]===-1&&(D.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(t,e,n,s,i,l,o=null,r=[-1]){const u=W;Q(t);const c=t.$$={fragment:null,ctx:[],props:l,update:I,not_equal:i,bound:Ne(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Ne(),dirty:r,skip_bound:!1,root:e.target||u.$$.root};o&&o(c.root);let h=!1;if(c.ctx=n?n(t,e.props||{},(f,d,...m)=>{const a=m.length?m[0]:d;return c.ctx&&i(c.ctx[f],c.ctx[f]=a)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](a),h&&Ct(t,f)),d}):[],c.update(),h=!0,T(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const f=ht(e.target);c.fragment&&c.fragment.l(f),f.forEach(g)}else c.fragment&&c.fragment.c();e.intro&&b(t.$$.fragment),L(t,e.target,e.anchor),v()}Q(u)}let et;typeof HTMLElement=="function"&&(et=class extends HTMLElement{constructor(e,n,s){super();k(this,"$$ctor");k(this,"$$s");k(this,"$$c");k(this,"$$cn",!1);k(this,"$$d",{});k(this,"$$r",!1);k(this,"$$p_d",{});k(this,"$$l",{});k(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=n,s&&this.attachShadow({mode:"open"})}addEventListener(e,n,s){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const i=this.$$c.$on(e,n);this.$$l_u.set(n,i)}super.addEventListener(e,n,s)}removeEventListener(e,n,s){if(super.removeEventListener(e,n,s),this.$$c){const i=this.$$l_u.get(n);i&&(i(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(o){return()=>{let r;return{c:function(){r=y("slot"),o!=="default"&&$(r,"name",o)},m:function(h,f){w(h,r,f)},d:function(h){h&&g(r)}}}};var e=n;if(await Promise.resolve(),!this.$$cn||this.$$c)return;const s={},i=pt(this);for(const o of this.$$s)o in i&&(s[o]=[n(o)]);for(const o of this.attributes){const r=this.$$g_p(o.name);r in this.$$d||(this.$$d[r]=ee(r,o.value,this.$$p_d,"toProp"))}for(const o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:s,$$scope:{ctx:[]}}});const l=()=>{this.$$r=!0;for(const o in this.$$p_d)if(this.$$d[o]=this.$$c.$$.ctx[this.$$c.$$.props[o]],this.$$p_d[o].reflect){const r=ee(o,this.$$d[o],this.$$p_d,"toAttribute");r==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,r)}this.$$r=!1};this.$$c.$$.after_update.push(l),l();for(const o in this.$$l)for(const r of this.$$l[o]){const u=this.$$c.$on(o,r);this.$$l_u.set(r,u)}this.$$l={}}}attributeChangedCallback(e,n,s){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=ee(e,s,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function ee(t,e,n,s){var l;const i=(l=n[t])==null?void 0:l.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!s||!n[t])return e;if(s==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function U(t,e,n,s,i,l){let o=class extends et{constructor(){super(t,n,i),this.$$p_d=e}static get observedAttributes(){return Object.keys(e).map(r=>(e[r].attribute||r).toLowerCase())}};return Object.keys(e).forEach(r=>{Object.defineProperty(o.prototype,r,{get(){return this.$$c&&r in this.$$c?this.$$c[r]:this.$$d[r]},set(u){var c;u=ee(r,u,e),this.$$d[r]=u,(c=this.$$c)==null||c.$set({[r]:u})}})}),s.forEach(r=>{Object.defineProperty(o.prototype,r,{get(){var u;return(u=this.$$c)==null?void 0:u[r]}})}),t.element=o,o}class G{constructor(){k(this,"$$");k(this,"$$set")}$destroy(){S(this,1),this.$destroy=I}$on(e,n){if(!$e(n))return I;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(e){this.$$set&&!ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Lt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Lt);function le(t,{delay:e=0,duration:n=400,easing:s=Je}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:l=>`opacity: ${l*i}`}}function St(t){H(t,"svelte-1u1j8um",".webble-chat-bubble.svelte-1u1j8um{align-self:start;display:inline;padding-inline:14px;padding-block:12px;border-radius:16px;background:var(--webble-chat-bubble-background);color:var(--webble-chat-bubble-text-color)}.webble-msg-sent.svelte-1u1j8um{align-self:end;background:var(--webble-chat-bubble-sent-background);color:var(--webble-chat-bubble-sent-text-color)}")}function Nt(t){let e,n,s;const i=t[2].default,l=me(i,t,t[1],null);return{c(){e=y("div"),l&&l.c(),$(e,"class","webble-chat-bubble svelte-1u1j8um")},m(o,r){w(o,e,r),l&&l.m(e,null),s=!0},p(o,r){l&&l.p&&(!s||r&2)&&ge(l,i,o,o[1],s?_e(i,o[1],r,null):we(o[1]),null)},i(o){s||(b(l,o),o&&R(()=>{s&&(n||(n=ie(e,le,{delay:250,duration:500},!0)),n.run(1))}),s=!0)},o(o){_(l,o),o&&(n||(n=ie(e,le,{delay:250,duration:500},!1)),n.run(0)),s=!1},d(o){o&&g(e),l&&l.d(o),o&&n&&n.end()}}}function Ot(t){let e,n,s;const i=t[2].default,l=me(i,t,t[1],null);return{c(){e=y("div"),l&&l.c(),$(e,"class","webble-chat-bubble webble-msg-sent svelte-1u1j8um")},m(o,r){w(o,e,r),l&&l.m(e,null),s=!0},p(o,r){l&&l.p&&(!s||r&2)&&ge(l,i,o,o[1],s?_e(i,o[1],r,null):we(o[1]),null)},i(o){s||(b(l,o),o&&R(()=>{s&&(n||(n=ie(e,le,{delay:250,duration:500},!0)),n.run(1))}),s=!0)},o(o){_(l,o),o&&(n||(n=ie(e,le,{delay:250,duration:500},!1)),n.run(0)),s=!1},d(o){o&&g(e),l&&l.d(o),o&&n&&n.end()}}}function Ft(t){let e,n,s,i;const l=[Ot,Nt],o=[];function r(u,c){return u[0]?0:1}return e=r(t),n=o[e]=l[e](t),{c(){n.c(),s=ve()},m(u,c){o[e].m(u,c),w(u,s,c),i=!0},p(u,[c]){let h=e;e=r(u),e===h?o[e].p(u,c):(j(),_(o[h],1,1,()=>{o[h]=null}),C(),n=o[e],n?n.p(u,c):(n=o[e]=l[e](u),n.c()),b(n,1),n.m(s.parentNode,s))},i(u){i||(b(n),i=!0)},o(u){_(n),i=!1},d(u){u&&g(s),o[e].d(u)}}}function zt(t,e,n){let{$$slots:s={},$$scope:i}=e,{wasSent:l=!1}=e;return t.$$set=o=>{"wasSent"in o&&n(0,l=o.wasSent),"$$scope"in o&&n(1,i=o.$$scope)},[l,i,s]}class tt extends G{constructor(e){super(),J(this,e,zt,Ft,F,{wasSent:0},St)}get wasSent(){return this.$$.ctx[0]}set wasSent(e){this.$$set({wasSent:e}),v()}}U(tt,{wasSent:{type:"Boolean"}},["default"],[],!0);function At(t){H(t,"svelte-1dzq9gl",".webble-button.svelte-1dzq9gl{all:unset;flex-grow:1;text-align:center;background:var(--webble-button-background);color:var(--webble-button-text-color);font-size:var(--webble-button-font-size);border-radius:var(--webble-radius);cursor:pointer;border:1px solid var(--webble-button-border);padding-inline:var(--webble-button-padding-inline);padding-block:var(--webble-button-padding-block)}.webble-button.svelte-1dzq9gl:hover{background:var(--webble-button-background-hover)}.webble-button.svelte-1dzq9gl:focus{background:var(--webble-button-background-focus);border:1px solid var(--webble-button-border-focus)}")}function Pt(t){let e,n,s,i;const l=t[2].default,o=me(l,t,t[1],null);return{c(){e=y("button"),o&&o.c(),$(e,"class","webble-button svelte-1dzq9gl")},m(r,u){w(r,e,u),o&&o.m(e,null),n=!0,s||(i=xe(e,"click",t[0]),s=!0)},p(r,[u]){o&&o.p&&(!n||u&2)&&ge(o,l,r,r[1],n?_e(l,r[1],u,null):we(r[1]),null)},i(r){n||(b(o,r),n=!0)},o(r){_(o,r),n=!1},d(r){r&&g(e),o&&o.d(r),s=!1,i()}}}function Bt(t,e,n){let{$$slots:s={},$$scope:i}=e;const l=yt();function o(){l("click")}return t.$$set=r=>{"$$scope"in r&&n(1,i=r.$$scope)},[o,i,s]}class Ie extends G{constructor(e){super(),J(this,e,Bt,Pt,F,{},At)}}U(Ie,{},["default"],[],!0);const B=[];function re(t,e=I){let n;const s=new Set;function i(r){if(F(t,r)&&(t=r,n)){const u=!B.length;for(const c of s)c[1](),B.push(c,t);if(u){for(let c=0;c<B.length;c+=2)B[c][0](B[c+1]);B.length=0}}}function l(r){i(r(t))}function o(r,u=I){const c=[r,u];return s.add(c),s.size===1&&(n=e(i,l)||I),r(t),()=>{s.delete(c),s.size===0&&n&&(n(),n=null)}}return{set:i,update:l,subscribe:o}}let ue=re(),je=re(),Ce=re([]),pe=re();function nt({message:t,sessionId:e,formId:n},s){const i=new FormData;i.set("message",String(t)),i.set("sessionId",e),fetch(`http://localhost:5174/chat/${n}`,{method:"POST",body:i}).then(l=>(Ce.update(o=>[...o,{type:"sent",content:{value:String(t),type:"text"}}]),l)).then(async l=>{const o=await l.json();return s(o)})}function Le(t){if(t.input?pe.set(t.input):pe.set(null),t.messages){const e=t.messages.map(n=>({type:"received",content:{type:"text",value:n.data.text}}));Ce.update(n=>[...n,...e])}t.sessionId&&ue.set(t.sessionId)}function Dt(t){H(t,"svelte-1934aoj",".input-wrapper.svelte-1934aoj{display:flex;width:50%;align-self:end;border-radius:0.5rem;overflow:hidden;border:1px solid #d1d5db}.webble-input.svelte-1934aoj{display:block;padding:1rem;flex-grow:2;color:#1f2937;border:none;background-color:#f3f4f6;font-size:1rem;outline-offset:2px;outline:2px solid transparent;box-shadow:0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(0, 0, 0, 0.05)}")}function Mt(t){let e,n,s;return{c(){e=y("input"),$(e,"placeholder",t[0]),$(e,"class","webble-input svelte-1934aoj")},m(i,l){w(i,e,l),te(e,t[6]),n||(s=xe(e,"input",t[10]),n=!0)},p(i,l){l&1&&$(e,"placeholder",i[0]),l&64&&e.value!==i[6]&&te(e,i[6])},d(i){i&&g(e),n=!1,s()}}}function Vt(t){let e,n,s;return{c(){e=y("input"),$(e,"min",t[3]),$(e,"max",t[4]),$(e,"step",t[5]),$(e,"type","number"),$(e,"placeholder",t[0]),$(e,"class","webble-input svelte-1934aoj")},m(i,l){w(i,e,l),te(e,t[6]),n||(s=xe(e,"input",t[9]),n=!0)},p(i,l){l&8&&$(e,"min",i[3]),l&16&&$(e,"max",i[4]),l&32&&$(e,"step",i[5]),l&1&&$(e,"placeholder",i[0]),l&64&&Ye(e.value)!==i[6]&&te(e,i[6])},d(i){i&&g(e),n=!1,s()}}}function qt(t){let e;return{c(){e=X(t[1])},m(n,s){w(n,e,s)},p(n,s){s&2&&Ee(e,n[1])},d(n){n&&g(e)}}}function Rt(t){let e,n,s,i,l;function o(c,h){return c[2]==="number"?Vt:Mt}let r=o(t),u=r(t);return s=new Ie({props:{$$slots:{default:[qt]},$$scope:{ctx:t}}}),s.$on("click",t[11]),{c(){e=y("div"),u.c(),n=q(),i=y("div"),z(s.$$.fragment),Oe(i,"display","contents"),Oe(i,"--webble-radius","0px"),$(e,"class","input-wrapper svelte-1934aoj")},m(c,h){w(c,e,h),u.m(e,null),N(e,n),N(e,i),L(s,i,null),l=!0},p(c,[h]){r===(r=o(c))&&u?u.p(c,h):(u.d(1),u=r(c),u&&(u.c(),u.m(e,n)));const f={};h&4098&&(f.$$scope={dirty:h,ctx:c}),s.$set(f)},i(c){l||(b(s.$$.fragment,c),l=!0)},o(c){_(s.$$.fragment,c),l=!1},d(c){c&&g(e),u.d(),S(s)}}}function Tt(t,e,n){let s,i;O(t,je,p=>n(7,s=p)),O(t,ue,p=>n(8,i=p));let{placeholder:l="Type something..."}=e,{buttonLabel:o="Send"}=e,{type:r="text"}=e,{min:u=void 0}=e,{max:c=void 0}=e,{step:h=void 0}=e,f;function d(){f=Ye(this.value),n(6,f)}function m(){f=this.value,n(6,f)}const a=()=>{nt({formId:s,message:f,sessionId:i},p=>Le(p))};return t.$$set=p=>{"placeholder"in p&&n(0,l=p.placeholder),"buttonLabel"in p&&n(1,o=p.buttonLabel),"type"in p&&n(2,r=p.type),"min"in p&&n(3,u=p.min),"max"in p&&n(4,c=p.max),"step"in p&&n(5,h=p.step)},[l,o,r,u,c,h,f,s,i,d,m,a]}class Se extends G{constructor(e){super(),J(this,e,Tt,Rt,F,{placeholder:0,buttonLabel:1,type:2,min:3,max:4,step:5},Dt)}get placeholder(){return this.$$.ctx[0]}set placeholder(e){this.$$set({placeholder:e}),v()}get buttonLabel(){return this.$$.ctx[1]}set buttonLabel(e){this.$$set({buttonLabel:e}),v()}get type(){return this.$$.ctx[2]}set type(e){this.$$set({type:e}),v()}get min(){return this.$$.ctx[3]}set min(e){this.$$set({min:e}),v()}get max(){return this.$$.ctx[4]}set max(e){this.$$set({max:e}),v()}get step(){return this.$$.ctx[5]}set step(e){this.$$set({step:e}),v()}}U(Se,{placeholder:{},buttonLabel:{},type:{},min:{},max:{},step:{}},[],[],!0);function Ht(t){H(t,"svelte-8p33yo",".options-container.svelte-8p33yo{font-size:14px;display:flex;flex-wrap:wrap;gap:4px;align-self:end}")}function Pe(t,e,n){const s=t.slice();return s[4]=e[n],s}function Be(t){let e,n;function s(){return t[3](t[4])}return e=new Ie({props:{$$slots:{default:[Jt]},$$scope:{ctx:t}}}),e.$on("click",s),{c(){z(e.$$.fragment)},m(i,l){L(e,i,l),n=!0},p(i,l){t=i;const o={};l&129&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(i){n||(b(e.$$.fragment,i),n=!0)},o(i){_(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Jt(t){let e=t[4].label+"",n;return{c(){n=X(e)},m(s,i){w(s,n,i)},p(s,i){i&1&&e!==(e=s[4].label+"")&&Ee(n,e)},d(s){s&&g(n)}}}function De(t){let e,n,s=t[4]&&Be(t);return{c(){s&&s.c(),e=ve()},m(i,l){s&&s.m(i,l),w(i,e,l),n=!0},p(i,l){i[4]?s?(s.p(i,l),l&1&&b(s,1)):(s=Be(i),s.c(),b(s,1),s.m(e.parentNode,e)):s&&(j(),_(s,1,1,()=>{s=null}),C())},i(i){n||(b(s),n=!0)},o(i){_(s),n=!1},d(i){i&&g(e),s&&s.d(i)}}}function Ut(t){let e,n,s=oe(t[0]),i=[];for(let o=0;o<s.length;o+=1)i[o]=De(Pe(t,s,o));const l=o=>_(i[o],1,1,()=>{i[o]=null});return{c(){e=y("div");for(let o=0;o<i.length;o+=1)i[o].c();$(e,"class","options-container svelte-8p33yo")},m(o,r){w(o,e,r);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);n=!0},p(o,[r]){if(r&7){s=oe(o[0]);let u;for(u=0;u<s.length;u+=1){const c=Pe(o,s,u);i[u]?(i[u].p(c,r),b(i[u],1)):(i[u]=De(c),i[u].c(),b(i[u],1),i[u].m(e,null))}for(j(),u=s.length;u<i.length;u+=1)l(u);C()}},i(o){if(!n){for(let r=0;r<s.length;r+=1)b(i[r]);n=!0}},o(o){i=i.filter(Boolean);for(let r=0;r<i.length;r+=1)_(i[r]);n=!1},d(o){o&&g(e),Xe(i,o)}}}function Gt(t,e,n){let s,i;O(t,je,r=>n(1,s=r)),O(t,ue,r=>n(2,i=r));let{options:l=[]}=e;const o=r=>{nt({formId:s,message:r.label,sessionId:i},u=>Le(u))};return t.$$set=r=>{"options"in r&&n(0,l=r.options)},[l,s,i,o]}class st extends G{constructor(e){super(),J(this,e,Gt,Ut,F,{options:0},Ht)}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),v()}}U(st,{options:{}},[],[],!0);function Kt(t){H(t,"svelte-ou80sr",':root{font-family:"Nunito", sans-serif;font-optical-sizing:auto;font-style:normal}.webble-chat-container.svelte-ou80sr{box-sizing:border-box;display:flex;padding:14px;gap:14px;flex-direction:column;align-items:start;background:var(--webble-chat-background);height:100vh;width:100%;max-width:800px}')}function Me(t,e,n){const s=t.slice();return s[2]=e[n],s}function Qt(t){let e=t[2].content.value+"",n;return{c(){n=X(e)},m(s,i){w(s,n,i)},p(s,i){i&1&&e!==(e=s[2].content.value+"")&&Ee(n,e)},d(s){s&&g(n)}}}function Ve(t){let e,n;return e=new tt({props:{wasSent:t[2].type==="sent",$$slots:{default:[Qt]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(s,i){L(e,s,i),n=!0},p(s,i){const l={};i&1&&(l.wasSent=s[2].type==="sent"),i&33&&(l.$$scope={dirty:i,ctx:s}),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){S(e,s)}}}function qe(t){let e,n,s,i,l=t[1].type==="choice_input"&&Re(t),o=t[1].type==="text_input"&&Te(t),r=t[1].type==="number_input"&&He(t);return{c(){l&&l.c(),e=q(),o&&o.c(),n=q(),r&&r.c(),s=ve()},m(u,c){l&&l.m(u,c),w(u,e,c),o&&o.m(u,c),w(u,n,c),r&&r.m(u,c),w(u,s,c),i=!0},p(u,c){u[1].type==="choice_input"?l?(l.p(u,c),c&2&&b(l,1)):(l=Re(u),l.c(),b(l,1),l.m(e.parentNode,e)):l&&(j(),_(l,1,1,()=>{l=null}),C()),u[1].type==="text_input"?o?(o.p(u,c),c&2&&b(o,1)):(o=Te(u),o.c(),b(o,1),o.m(n.parentNode,n)):o&&(j(),_(o,1,1,()=>{o=null}),C()),u[1].type==="number_input"?r?(r.p(u,c),c&2&&b(r,1)):(r=He(u),r.c(),b(r,1),r.m(s.parentNode,s)):r&&(j(),_(r,1,1,()=>{r=null}),C())},i(u){i||(b(l),b(o),b(r),i=!0)},o(u){_(l),_(o),_(r),i=!1},d(u){u&&(g(e),g(n),g(s)),l&&l.d(u),o&&o.d(u),r&&r.d(u)}}}function Re(t){let e,n;return e=new st({props:{options:t[1].data.options}}),{c(){z(e.$$.fragment)},m(s,i){L(e,s,i),n=!0},p(s,i){const l={};i&2&&(l.options=s[1].data.options),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){S(e,s)}}}function Te(t){let e,n;return e=new Se({props:{placeholder:t[1].data.placeholder,buttonLabel:t[1].data.buttonLabel}}),{c(){z(e.$$.fragment)},m(s,i){L(e,s,i),n=!0},p(s,i){const l={};i&2&&(l.placeholder=s[1].data.placeholder),i&2&&(l.buttonLabel=s[1].data.buttonLabel),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){S(e,s)}}}function He(t){let e,n;return e=new Se({props:{type:"number",max:t[1].data.max,step:t[1].data.step,min:t[1].data.min,placeholder:t[1].data.placeholder,buttonLabel:t[1].data.buttonLabel}}),{c(){z(e.$$.fragment)},m(s,i){L(e,s,i),n=!0},p(s,i){const l={};i&2&&(l.max=s[1].data.max),i&2&&(l.step=s[1].data.step),i&2&&(l.min=s[1].data.min),i&2&&(l.placeholder=s[1].data.placeholder),i&2&&(l.buttonLabel=s[1].data.buttonLabel),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){S(e,s)}}}function Wt(t){let e,n,s,i,l,o,r,u=oe(t[0]),c=[];for(let d=0;d<u.length;d+=1)c[d]=Ve(Me(t,u,d));const h=d=>_(c[d],1,1,()=>{c[d]=null});let f=t[1]&&qe(t);return{c(){e=y("link"),n=y("link"),s=y("link"),i=q(),l=y("div");for(let d=0;d<c.length;d+=1)c[d].c();o=q(),f&&f.c(),$(e,"rel","preconnect"),$(e,"href","https://fonts.googleapis.com"),$(n,"rel","preconnect"),$(n,"href","https://fonts.gstatic.com"),$(n,"crossorigin","anonymous"),$(s,"href","https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"),$(s,"rel","stylesheet"),$(l,"class","webble-chat-container svelte-ou80sr")},m(d,m){N(document.head,e),N(document.head,n),N(document.head,s),w(d,i,m),w(d,l,m);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(l,null);N(l,o),f&&f.m(l,null),r=!0},p(d,[m]){if(m&1){u=oe(d[0]);let a;for(a=0;a<u.length;a+=1){const p=Me(d,u,a);c[a]?(c[a].p(p,m),b(c[a],1)):(c[a]=Ve(p),c[a].c(),b(c[a],1),c[a].m(l,o))}for(j(),a=u.length;a<c.length;a+=1)h(a);C()}d[1]?f?(f.p(d,m),m&2&&b(f,1)):(f=qe(d),f.c(),b(f,1),f.m(l,null)):f&&(j(),_(f,1,1,()=>{f=null}),C())},i(d){if(!r){for(let m=0;m<u.length;m+=1)b(c[m]);b(f),r=!0}},o(d){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)_(c[m]);_(f),r=!1},d(d){d&&(g(i),g(l)),g(e),g(n),g(s),Xe(c,d),f&&f.d()}}}function Xt(t,e,n){let s,i;return O(t,Ce,l=>n(0,s=l)),O(t,pe,l=>n(1,i=l)),[s,i]}class it extends G{constructor(e){super(),J(this,e,Xt,Wt,F,{},Kt)}}U(it,{},[],[],!0);function Yt(t){H(t,"svelte-1dhowst",":root{--webble-chat-background:#F9F9F9;--webble-chat-bubble-background:#EAE7EC;--webble-chat-bubble-text-color:#202020;--webble-chat-bubble-sent-background:#6E56CF;--webble-chat-bubble-sent-text-color:#F4F0FE;--webble-primary-border:#C2B5F5;--webble-radius:8px;--webble-button-background:#6E56CF;--webble-button-background-hover:#654DC4;--webble-button-background-focus:#654DC4;--webble-button-border:#C2B5F5;--webble-button-border-focus:#D4CAFE;--webble-button-text-color:#F4F0FE;--webble-button-padding-inline:16px;--webble-button-padding-block:8px;--webble-button-font-size:16px}")}function Zt(t){let e,n,s;return n=new it({}),{c(){e=q(),z(n.$$.fragment)},m(i,l){w(i,e,l),L(n,i,l),s=!0},p(i,[l]){},i(i){s||(b(n.$$.fragment,i),s=!0)},o(i){_(n.$$.fragment,i),s=!1},d(i){i&&g(e),S(n,i)}}}function en(t,e,n){let s;O(t,ue,u=>n(2,s=u));let{formId:i=""}=e,{inputValue:l=""}=e;function o(){l=this.value,n(1,l)}const r=()=>n(0,i=l);return t.$$set=u=>{"formId"in u&&n(0,i=u.formId),"inputValue"in u&&n(1,l=u.inputValue)},t.$$.update=()=>{if(t.$$.dirty&1&&je.set(i),t.$$.dirty&1){let u=new FormData;u.set("message",""),u.set("sessionId",""),i&&fetch(`http://localhost:5174/chat/${i}`,{method:"POST",body:u}).then(async c=>{const h=await c.json();return Le(h),h})}},[i,l,s,o,r]}class tn extends G{constructor(e){super(),J(this,e,en,Zt,F,{formId:0,inputValue:1},Yt)}get formId(){return this.$$.ctx[0]}set formId(e){this.$$set({formId:e}),v()}get inputValue(){return this.$$.ctx[1]}set inputValue(e){this.$$set({inputValue:e}),v()}}customElements.define("webble-chatbox",U(tn,{formId:{},inputValue:{}},[],[],!0));
