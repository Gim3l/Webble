var rt=Object.defineProperty;var ut=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>(ut(t,typeof e!="symbol"?e+"":e,n),n);function L(){}const Ye=t=>t;function ct(t,e){for(const n in e)t[n]=e[n];return t}function He(t){return t()}function Se(){return Object.create(null)}function z(t){t.forEach(He)}function te(t){return typeof t=="function"}function M(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ft(t){return Object.keys(t).length===0}function at(t,...e){if(t==null){for(const s of e)s(void 0);return L}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function B(t,e,n){t.$$.on_destroy.push(at(e,n))}function _e(t,e,n,s){if(t){const o=Je(t,e,n,s);return t[0](o)}}function Je(t,e,n,s){return t[1]&&s?ct(n.ctx.slice(),t[1](s(e))):n.ctx}function ge(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],r=Math.max(e.dirty.length,o.length);for(let i=0;i<r;i+=1)l[i]=e.dirty[i]|o[i];return l}return e.dirty|o}return e.dirty}function we(t,e,n,s,o,l){if(o){const r=Je(e,n,s,l);t.p(r,o)}}function ye(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}function dt(t){return t&&te(t.destroy)?t.destroy:L}const Ue=typeof window<"u";let bt=Ue?()=>window.performance.now():()=>Date.now(),ke=Ue?t=>requestAnimationFrame(t):L;const R=new Set;function Xe(t){R.forEach(e=>{e.c(t)||(R.delete(e),e.f())}),R.size!==0&&ke(Xe)}function ht(t){let e;return R.size===0&&ke(Xe),{promise:new Promise(n=>{R.add(e={c:t,f:n})}),abort(){R.delete(e)}}}function O(t,e){t.appendChild(e)}function J(t,e,n){const s=ve(t);if(!s.getElementById(e)){const o=k("style");o.id=e,o.textContent=n,Ge(s,o)}}function ve(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function pt(t){const e=k("style");return e.textContent="/* empty */",Ge(ve(t),e),e.sheet}function Ge(t,e){return O(t.head||t,e),e.sheet}function y(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode&&t.parentNode.removeChild(t)}function Ke(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function ne(t){return document.createTextNode(t)}function A(){return ne(" ")}function Qe(){return ne("")}function P(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function We(t){return t===""?null:+t}function mt(t){return Array.from(t.childNodes)}function Ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function H(t,e){t.value=e??""}function Ce(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function xe(t,e,n){t.classList.toggle(e,!!n)}function Ze(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}function $t(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}const ie=new Map;let re=0;function _t(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function gt(t,e){const n={stylesheet:pt(e),rules:{}};return ie.set(t,n),n}function wt(t,e,n,s,o,l,r,i=0){const u=16.666/s;let c=`{
`;for(let g=0;g<=1;g+=u){const d=e+(n-e)*l(g);c+=g*100+`%{${r(d,1-d)}}
`}const f=c+`100% {${r(n,1-n)}}
}`,a=`__svelte_${_t(f)}_${i}`,h=ve(t),{stylesheet:E,rules:$}=ie.get(h)||gt(h,t);$[a]||($[a]=!0,E.insertRule(`@keyframes ${a} ${f}`,E.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${a} ${s}ms linear ${o}ms 1 both`,re+=1,a}function Fe(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),o=n.length-s.length;o&&(t.style.animation=s.join(", "),re-=o,re||yt())}function yt(){ke(()=>{re||(ie.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&w(e)}),ie.clear())})}let W;function Q(t){W=t}function et(){if(!W)throw new Error("Function called outside component initialization");return W}function kt(t){et().$$.on_mount.push(t)}function tt(){const t=et();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=Ze(e,n,{cancelable:s});return o.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}const V=[],ze=[];let Y=[];const Ne=[],vt=Promise.resolve();let me=!1;function Et(){me||(me=!0,vt.then(v))}function Z(t){Y.push(t)}const pe=new Set;let q=0;function v(){if(q!==0)return;const t=W;do{try{for(;q<V.length;){const e=V[q];q++,Q(e),It(e.$$)}}catch(e){throw V.length=0,q=0,e}for(Q(null),V.length=0,q=0;ze.length;)ze.pop()();for(let e=0;e<Y.length;e+=1){const n=Y[e];pe.has(n)||(pe.add(n),n())}Y.length=0}while(V.length);for(;Ne.length;)Ne.pop()();me=!1,pe.clear(),Q(t)}function It(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Z)}}function Lt(t){const e=[],n=[];Y.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),Y=e}let K;function St(){return K||(K=Promise.resolve(),K.then(()=>{K=null})),K}function Oe(t,e,n){t.dispatchEvent(Ze(`intro${n}`))}const oe=new Set;let j;function S(){j={r:0,c:[],p:j}}function C(){j.r||z(j.c),j=j.p}function b(t,e){t&&t.i&&(oe.delete(t),t.i(e))}function _(t,e,n,s){if(t&&t.o){if(oe.has(t))return;oe.add(t),j.c.push(()=>{oe.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const Ct={duration:0};function xt(t,e,n){const s={direction:"in"};let o=e(t,n,s),l=!1,r,i,u=0;function c(){r&&Fe(t,r)}function f(){const{delay:h=0,duration:E=300,easing:$=Ye,tick:p=L,css:g}=o||Ct;g&&(r=wt(t,0,1,E,h,$,g,u++)),p(0,1);const d=bt()+h,D=d+E;i&&i.abort(),l=!0,Z(()=>Oe(t,!0,"start")),i=ht(he=>{if(l){if(he>=D)return p(1,0),Oe(t,!0,"end"),c(),l=!1;if(he>=d){const Le=$((he-d)/E);p(Le,1-Le)}}return l})}let a=!1;return{start(){a||(a=!0,Fe(t),te(o)?(o=o(s),St().then(f)):f())},invalidate(){a=!1},end(){l&&(c(),l=!1)}}}function ue(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function N(t){t&&t.c()}function x(t,e,n){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),Z(()=>{const l=t.$$.on_mount.map(He).filter(te);t.$$.on_destroy?t.$$.on_destroy.push(...l):z(l),t.$$.on_mount=[]}),o.forEach(Z)}function F(t,e){const n=t.$$;n.fragment!==null&&(Lt(n.after_update),z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ft(t,e){t.$$.dirty[0]===-1&&(V.push(t),Et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(t,e,n,s,o,l,r=null,i=[-1]){const u=W;Q(t);const c=t.$$={fragment:null,ctx:[],props:l,update:L,not_equal:o,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Se(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};r&&r(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(a,h,...E)=>{const $=E.length?E[0]:h;return c.ctx&&o(c.ctx[a],c.ctx[a]=$)&&(!c.skip_bound&&c.bound[a]&&c.bound[a]($),f&&Ft(t,a)),h}):[],c.update(),f=!0,z(c.before_update),c.fragment=s?s(c.ctx):!1,e.target){if(e.hydrate){const a=mt(e.target);c.fragment&&c.fragment.l(a),a.forEach(w)}else c.fragment&&c.fragment.c();e.intro&&b(t.$$.fragment),x(t,e.target,e.anchor),v()}Q(u)}let nt;typeof HTMLElement=="function"&&(nt=class extends HTMLElement{constructor(e,n,s){super();I(this,"$$ctor");I(this,"$$s");I(this,"$$c");I(this,"$$cn",!1);I(this,"$$d",{});I(this,"$$r",!1);I(this,"$$p_d",{});I(this,"$$l",{});I(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=n,s&&this.attachShadow({mode:"open"})}addEventListener(e,n,s){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const o=this.$$c.$on(e,n);this.$$l_u.set(n,o)}super.addEventListener(e,n,s)}removeEventListener(e,n,s){if(super.removeEventListener(e,n,s),this.$$c){const o=this.$$l_u.get(n);o&&(o(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(r){return()=>{let i;return{c:function(){i=k("slot"),r!=="default"&&m(i,"name",r)},m:function(f,a){y(f,i,a)},d:function(f){f&&w(i)}}}};var e=n;if(await Promise.resolve(),!this.$$cn||this.$$c)return;const s={},o=$t(this);for(const r of this.$$s)r in o&&(s[r]=[n(r)]);for(const r of this.attributes){const i=this.$$g_p(r.name);i in this.$$d||(this.$$d[i]=le(i,r.value,this.$$p_d,"toProp"))}for(const r in this.$$p_d)!(r in this.$$d)&&this[r]!==void 0&&(this.$$d[r]=this[r],delete this[r]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:s,$$scope:{ctx:[]}}});const l=()=>{this.$$r=!0;for(const r in this.$$p_d)if(this.$$d[r]=this.$$c.$$.ctx[this.$$c.$$.props[r]],this.$$p_d[r].reflect){const i=le(r,this.$$d[r],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[r].attribute||r):this.setAttribute(this.$$p_d[r].attribute||r,i)}this.$$r=!1};this.$$c.$$.after_update.push(l),l();for(const r in this.$$l)for(const i of this.$$l[r]){const u=this.$$c.$on(r,i);this.$$l_u.set(i,u)}this.$$l={}}}attributeChangedCallback(e,n,s){var o;this.$$r||(e=this.$$g_p(e),this.$$d[e]=le(e,s,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function le(t,e,n,s){var l;const o=(l=n[t])==null?void 0:l.type;if(e=o==="Boolean"&&typeof e!="boolean"?e!=null:e,!s||!n[t])return e;if(s==="toAttribute")switch(o){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(o){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function X(t,e,n,s,o,l){let r=class extends nt{constructor(){super(t,n,o),this.$$p_d=e}static get observedAttributes(){return Object.keys(e).map(i=>(e[i].attribute||i).toLowerCase())}};return Object.keys(e).forEach(i=>{Object.defineProperty(r.prototype,i,{get(){return this.$$c&&i in this.$$c?this.$$c[i]:this.$$d[i]},set(u){var c;u=le(i,u,e),this.$$d[i]=u,(c=this.$$c)==null||c.$set({[i]:u})}})}),s.forEach(i=>{Object.defineProperty(r.prototype,i,{get(){var u;return(u=this.$$c)==null?void 0:u[i]}})}),t.element=r,r}class G{constructor(){I(this,"$$");I(this,"$$set")}$destroy(){F(this,1),this.$destroy=L}$on(e,n){if(!te(n))return L;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(e){this.$$set&&!ft(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const zt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(zt);function Nt(t){return 1-Math.sqrt(1-t*t)}function Ot(t,{delay:e=0,duration:n=400,easing:s=Ye}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:l=>`opacity: ${l*o}`}}function jt(t){J(t,"svelte-1k0ozfh",".webble-chat-bubble.svelte-1k0ozfh{align-self:start;display:inline;padding-inline:14px;padding-block:12px;border-radius:16px;background:var(--webble-chat-bubble-background);color:var(--webble-chat-bubble-text-color)}.webble-msg-sent.svelte-1k0ozfh{align-self:end;background:var(--webble-chat-bubble-sent-background);color:var(--webble-chat-bubble-sent-text-color)}@keyframes svelte-1k0ozfh-typing{0%{transform:scale(1)}33%{transform:scale(1)}50%{transform:scale(1.4)}100%{transform:scale(1)}}@keyframes svelte-1k0ozfh-bounce{0%{transform:translateY(0)}33%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}")}function At(t){let e;const n=t[4].default,s=_e(n,t,t[3],null);return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){s&&s.p&&(!e||l&8)&&we(s,n,o,o[3],e?ge(n,o[3],l,null):ye(o[3]),null)},i(o){e||(b(s,o),e=!0)},o(o){_(s,o),e=!1},d(o){s&&s.d(o)}}}function Bt(t){let e;const n=t[4].default,s=_e(n,t,t[3],null);return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){s&&s.p&&(!e||l&8)&&we(s,n,o,o[3],e?ge(n,o[3],l,null):ye(o[3]),null)},i(o){e||(b(s,o),e=!0)},o(o){_(s,o),e=!1},d(o){s&&s.d(o)}}}function Pt(t){let e,n,s,o,l;const r=[Bt,At],i=[];function u(c,f){return c[0]?0:1}return n=u(t),s=i[n]=r[n](t),{c(){e=k("div"),s.c(),m(e,"class","webble-chat-bubble svelte-1k0ozfh"),xe(e,"webble-msg-sent",t[0])},m(c,f){y(c,e,f),i[n].m(e,null),l=!0},p(c,[f]){t=c;let a=n;n=u(t),n===a?i[n].p(t,f):(S(),_(i[a],1,1,()=>{i[a]=null}),C(),s=i[n],s?s.p(t,f):(s=i[n]=r[n](t),s.c()),b(s,1),s.m(e,null)),(!l||f&1)&&xe(e,"webble-msg-sent",t[0])},i(c){l||(b(s),c&&(o||Z(()=>{o=xt(e,Ot,{delay:t[0]?0:t[1],easing:Nt}),o.start()})),l=!0)},o(c){_(s),l=!1},d(c){c&&w(e),i[n].d()}}}function Mt(t,e,n){let{$$slots:s={},$$scope:o}=e,{wasSent:l=!1}=e,{index:r=0}=e,{hiddenFor:i=0}=e;return t.$$set=u=>{"wasSent"in u&&n(0,l=u.wasSent),"index"in u&&n(2,r=u.index),"hiddenFor"in u&&n(1,i=u.hiddenFor),"$$scope"in u&&n(3,o=u.$$scope)},[l,i,r,o,s]}class st extends G{constructor(e){super(),U(this,e,Mt,Pt,M,{wasSent:0,index:2,hiddenFor:1},jt)}get wasSent(){return this.$$.ctx[0]}set wasSent(e){this.$$set({wasSent:e}),v()}get index(){return this.$$.ctx[2]}set index(e){this.$$set({index:e}),v()}get hiddenFor(){return this.$$.ctx[1]}set hiddenFor(e){this.$$set({hiddenFor:e}),v()}}X(st,{wasSent:{type:"Boolean"},index:{},hiddenFor:{}},["default"],[],!0);function Dt(t){J(t,"svelte-1dzq9gl",".webble-button.svelte-1dzq9gl{all:unset;flex-grow:1;text-align:center;background:var(--webble-button-background);color:var(--webble-button-text-color);font-size:var(--webble-button-font-size);border-radius:var(--webble-radius);cursor:pointer;border:1px solid var(--webble-button-border);padding-inline:var(--webble-button-padding-inline);padding-block:var(--webble-button-padding-block)}.webble-button.svelte-1dzq9gl:hover{background:var(--webble-button-background-hover)}.webble-button.svelte-1dzq9gl:focus{background:var(--webble-button-background-focus);border:1px solid var(--webble-button-border-focus)}")}function qt(t){let e,n,s,o;const l=t[2].default,r=_e(l,t,t[1],null);return{c(){e=k("button"),r&&r.c(),m(e,"class","webble-button svelte-1dzq9gl")},m(i,u){y(i,e,u),r&&r.m(e,null),n=!0,s||(o=P(e,"click",t[0]),s=!0)},p(i,[u]){r&&r.p&&(!n||u&2)&&we(r,l,i,i[1],n?ge(l,i[1],u,null):ye(i[1]),null)},i(i){n||(b(r,i),n=!0)},o(i){_(r,i),n=!1},d(i){i&&w(e),r&&r.d(i),s=!1,o()}}}function Tt(t,e,n){let{$$slots:s={},$$scope:o}=e;const l=tt();function r(){l("click")}return t.$$set=i=>{"$$scope"in i&&n(1,o=i.$$scope)},[r,o,s]}class Ie extends G{constructor(e){super(),U(this,e,Tt,qt,M,{},Dt)}}X(Ie,{},["default"],[],!0);const T=[];function se(t,e=L){let n;const s=new Set;function o(i){if(M(t,i)&&(t=i,n)){const u=!T.length;for(const c of s)c[1](),T.push(c,t);if(u){for(let c=0;c<T.length;c+=2)T[c][0](T[c+1]);T.length=0}}}function l(i){o(i(t))}function r(i,u=L){const c=[i,u];return s.add(c),s.size===1&&(n=e(o,l)||L),i(t),()=>{s.delete(c),s.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:r}}let ae=se(),ee=se(),de=se([]),ot=se(),ce=se(JSON.parse(localStorage.getItem("webble-input")||"{}"));function $e({message:t,sessionId:e,formId:n},s){if(!t)return;const o=new FormData;o.set("message",String(t)),o.set("sessionId",e),fetch(`https://webble.co/chat/${n}`,{method:"POST",body:o}).then(l=>(de.update(r=>[...r,{type:"sent",content:{value:String(t),type:"text"}}]),l)).then(async l=>{const r=await l.json();return s(r)})}function fe(t){var e;if(t.nextElementId&&ot.set(t.nextElementId),console.log("NEXt",t.nextElementId),t.input?ce.set(t.input):(ce.set(null),localStorage.removeItem(`webble-input-${ae}`)),(e=t.messages)!=null&&e.length){const n=t.messages.map(s=>({id:s.id,type:"received",content:{type:"text",value:s.data.text}}));de.update(s=>[...s,...n])}t.sessionId&&ee.set(t.sessionId)}function Vt(t){J(t,"svelte-13awd0v",".input-wrapper.svelte-13awd0v{display:flex;align-self:end;border-radius:0.5rem;overflow:hidden}.webble-input.svelte-13awd0v{display:block;padding:1rem;flex-grow:2;color:#1f2937;border:none;background-color:#f3f4f6;font-size:1rem;outline-offset:2px;outline:2px solid transparent;box-shadow:0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(0, 0, 0, 0.05)}")}function Rt(t){let e,n,s;return{c(){e=k("input"),e.autofocus=!0,m(e,"placeholder",t[0]),m(e,"type","email"),m(e,"class","webble-input svelte-13awd0v")},m(o,l){y(o,e,l),H(e,t[6]),e.focus(),n||(s=[P(e,"keydown",t[9]),P(e,"input",t[12])],n=!0)},p(o,l){l&1&&m(e,"placeholder",o[0]),l&64&&e.value!==o[6]&&H(e,o[6])},d(o){o&&w(e),n=!1,z(s)}}}function Yt(t){let e,n,s;return{c(){e=k("input"),e.autofocus=!0,m(e,"placeholder",t[0]),m(e,"class","webble-input svelte-13awd0v")},m(o,l){y(o,e,l),H(e,t[6]),e.focus(),n||(s=[P(e,"keydown",t[9]),P(e,"input",t[11])],n=!0)},p(o,l){l&1&&m(e,"placeholder",o[0]),l&64&&e.value!==o[6]&&H(e,o[6])},d(o){o&&w(e),n=!1,z(s)}}}function Ht(t){let e,n,s;return{c(){e=k("input"),e.autofocus=!0,m(e,"min",t[3]),m(e,"max",t[4]),m(e,"step",t[5]),m(e,"type","number"),m(e,"placeholder",t[0]),m(e,"class","webble-input svelte-13awd0v")},m(o,l){y(o,e,l),H(e,t[6]),e.focus(),n||(s=[P(e,"keydown",t[9]),P(e,"input",t[10])],n=!0)},p(o,l){l&8&&m(e,"min",o[3]),l&16&&m(e,"max",o[4]),l&32&&m(e,"step",o[5]),l&1&&m(e,"placeholder",o[0]),l&64&&We(e.value)!==o[6]&&H(e,o[6])},d(o){o&&w(e),n=!1,z(s)}}}function Jt(t){let e;return{c(){e=ne(t[1])},m(n,s){y(n,e,s)},p(n,s){s&2&&Ee(e,n[1])},d(n){n&&w(e)}}}function Ut(t){let e,n,s,o,l;function r(c,f){if(c[2]==="number")return Ht;if(c[2]==="text")return Yt;if(c[2]==="email")return Rt}let i=r(t),u=i&&i(t);return s=new Ie({props:{$$slots:{default:[Jt]},$$scope:{ctx:t}}}),s.$on("click",t[13]),{c(){e=k("div"),u&&u.c(),n=A(),o=k("div"),N(s.$$.fragment),Ce(o,"display","contents"),Ce(o,"--webble-radius","0px"),m(e,"class","input-wrapper svelte-13awd0v")},m(c,f){y(c,e,f),u&&u.m(e,null),O(e,n),O(e,o),x(s,o,null),l=!0},p(c,[f]){i===(i=r(c))&&u?u.p(c,f):(u&&u.d(1),u=i&&i(c),u&&(u.c(),u.m(e,n)));const a={};f&16386&&(a.$$scope={dirty:f,ctx:c}),s.$set(a)},i(c){l||(b(s.$$.fragment,c),l=!0)},o(c){_(s.$$.fragment,c),l=!1},d(c){c&&w(e),u&&u.d(),F(s)}}}function Xt(t,e,n){let s,o;B(t,ee,d=>n(7,s=d)),B(t,ae,d=>n(8,o=d));let{placeholder:l="Type something..."}=e,{buttonLabel:r="Send"}=e,{type:i="text"}=e,{min:u=void 0}=e,{max:c=void 0}=e,{step:f=void 0}=e,a;function h(d){d.key==="Enter"&&$e({formId:o,message:a,sessionId:s},D=>{fe(D),n(6,a="")})}function E(){a=We(this.value),n(6,a)}function $(){a=this.value,n(6,a)}function p(){a=this.value,n(6,a)}const g=()=>{$e({formId:o,message:a,sessionId:s},d=>{fe(d),n(6,a="")})};return t.$$set=d=>{"placeholder"in d&&n(0,l=d.placeholder),"buttonLabel"in d&&n(1,r=d.buttonLabel),"type"in d&&n(2,i=d.type),"min"in d&&n(3,u=d.min),"max"in d&&n(4,c=d.max),"step"in d&&n(5,f=d.step)},[l,r,i,u,c,f,a,s,o,h,E,$,p,g]}class be extends G{constructor(e){super(),U(this,e,Xt,Ut,M,{placeholder:0,buttonLabel:1,type:2,min:3,max:4,step:5},Vt)}get placeholder(){return this.$$.ctx[0]}set placeholder(e){this.$$set({placeholder:e}),v()}get buttonLabel(){return this.$$.ctx[1]}set buttonLabel(e){this.$$set({buttonLabel:e}),v()}get type(){return this.$$.ctx[2]}set type(e){this.$$set({type:e}),v()}get min(){return this.$$.ctx[3]}set min(e){this.$$set({min:e}),v()}get max(){return this.$$.ctx[4]}set max(e){this.$$set({max:e}),v()}get step(){return this.$$.ctx[5]}set step(e){this.$$set({step:e}),v()}}X(be,{placeholder:{},buttonLabel:{},type:{},min:{},max:{},step:{}},[],[],!0);function Gt(t){J(t,"svelte-8p33yo",".options-container.svelte-8p33yo{font-size:14px;display:flex;flex-wrap:wrap;gap:4px;align-self:end}")}function je(t,e,n){const s=t.slice();return s[4]=e[n],s}function Ae(t){let e,n;function s(){return t[3](t[4])}return e=new Ie({props:{$$slots:{default:[Kt]},$$scope:{ctx:t}}}),e.$on("click",s),{c(){N(e.$$.fragment)},m(o,l){x(e,o,l),n=!0},p(o,l){t=o;const r={};l&129&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){_(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function Kt(t){let e=t[4].label+"",n;return{c(){n=ne(e)},m(s,o){y(s,n,o)},p(s,o){o&1&&e!==(e=s[4].label+"")&&Ee(n,e)},d(s){s&&w(n)}}}function Be(t){let e,n,s=t[4]&&Ae(t);return{c(){s&&s.c(),e=Qe()},m(o,l){s&&s.m(o,l),y(o,e,l),n=!0},p(o,l){o[4]?s?(s.p(o,l),l&1&&b(s,1)):(s=Ae(o),s.c(),b(s,1),s.m(e.parentNode,e)):s&&(S(),_(s,1,1,()=>{s=null}),C())},i(o){n||(b(s),n=!0)},o(o){_(s),n=!1},d(o){o&&w(e),s&&s.d(o)}}}function Qt(t){let e,n,s=ue(t[0]),o=[];for(let r=0;r<s.length;r+=1)o[r]=Be(je(t,s,r));const l=r=>_(o[r],1,1,()=>{o[r]=null});return{c(){e=k("div");for(let r=0;r<o.length;r+=1)o[r].c();m(e,"class","options-container svelte-8p33yo")},m(r,i){y(r,e,i);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);n=!0},p(r,[i]){if(i&7){s=ue(r[0]);let u;for(u=0;u<s.length;u+=1){const c=je(r,s,u);o[u]?(o[u].p(c,i),b(o[u],1)):(o[u]=Be(c),o[u].c(),b(o[u],1),o[u].m(e,null))}for(S(),u=s.length;u<o.length;u+=1)l(u);C()}},i(r){if(!n){for(let i=0;i<s.length;i+=1)b(o[i]);n=!0}},o(r){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)_(o[i]);n=!1},d(r){r&&w(e),Ke(o,r)}}}function Wt(t,e,n){let s,o;B(t,ae,i=>n(1,s=i)),B(t,ee,i=>n(2,o=i));let{options:l=[]}=e;const r=i=>{$e({formId:s,message:i.label,sessionId:o},u=>fe(u))};return t.$$set=i=>{"options"in i&&n(0,l=i.options)},[l,s,o,r]}class lt extends G{constructor(e){super(),U(this,e,Wt,Qt,M,{options:0},Gt)}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),v()}}X(lt,{options:{}},[],[],!0);function Zt(t){J(t,"svelte-l3bcmc",':root{font-family:"Nunito", sans-serif;font-optical-sizing:auto;font-style:normal}.webble-chat-container.svelte-l3bcmc{box-sizing:border-box;display:flex;padding:14px;overflow-y:auto;gap:14px;flex-direction:column;align-items:start;background:var(--webble-chat-background);min-height:var(--webble-chat-container-min-height);width:100%;max-width:800px}')}function Pe(t,e,n){const s=t.slice();return s[3]=e[n],s[5]=n,s}function en(t){let e=t[3].content.value+"",n;return{c(){n=ne(e)},m(s,o){y(s,n,o)},p(s,o){o&1&&e!==(e=s[3].content.value+"")&&Ee(n,e)},d(s){s&&w(n)}}}function Me(t){let e,n;return e=new st({props:{wasSent:t[3].type==="sent",index:t[5],hiddenFor:250*t[5]-t[5]*25,$$slots:{default:[en]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(s,o){x(e,s,o),n=!0},p(s,o){const l={};o&1&&(l.wasSent=s[3].type==="sent"),o&65&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function De(t){let e,n,s,o,l,r=t[1].type==="choice_input"&&qe(t),i=t[1].type==="text_input"&&Te(t),u=t[1].type==="number_input"&&Ve(t),c=t[1].type==="email_input"&&Re(t);return{c(){r&&r.c(),e=A(),i&&i.c(),n=A(),u&&u.c(),s=A(),c&&c.c(),o=Qe()},m(f,a){r&&r.m(f,a),y(f,e,a),i&&i.m(f,a),y(f,n,a),u&&u.m(f,a),y(f,s,a),c&&c.m(f,a),y(f,o,a),l=!0},p(f,a){f[1].type==="choice_input"?r?(r.p(f,a),a&2&&b(r,1)):(r=qe(f),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(S(),_(r,1,1,()=>{r=null}),C()),f[1].type==="text_input"?i?(i.p(f,a),a&2&&b(i,1)):(i=Te(f),i.c(),b(i,1),i.m(n.parentNode,n)):i&&(S(),_(i,1,1,()=>{i=null}),C()),f[1].type==="number_input"?u?(u.p(f,a),a&2&&b(u,1)):(u=Ve(f),u.c(),b(u,1),u.m(s.parentNode,s)):u&&(S(),_(u,1,1,()=>{u=null}),C()),f[1].type==="email_input"?c?(c.p(f,a),a&2&&b(c,1)):(c=Re(f),c.c(),b(c,1),c.m(o.parentNode,o)):c&&(S(),_(c,1,1,()=>{c=null}),C())},i(f){l||(b(r),b(i),b(u),b(c),l=!0)},o(f){_(r),_(i),_(u),_(c),l=!1},d(f){f&&(w(e),w(n),w(s),w(o)),r&&r.d(f),i&&i.d(f),u&&u.d(f),c&&c.d(f)}}}function qe(t){let e,n;return e=new lt({props:{options:t[1].data.options}}),{c(){N(e.$$.fragment)},m(s,o){x(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.options=s[1].data.options),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Te(t){let e,n;return e=new be({props:{placeholder:t[1].data.placeholder,buttonLabel:t[1].data.buttonLabel}}),{c(){N(e.$$.fragment)},m(s,o){x(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.placeholder=s[1].data.placeholder),o&2&&(l.buttonLabel=s[1].data.buttonLabel),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Ve(t){let e,n;return e=new be({props:{type:"number",max:t[1].data.max,step:t[1].data.step,min:t[1].data.min,placeholder:t[1].data.placeholder,buttonLabel:t[1].data.buttonLabel}}),{c(){N(e.$$.fragment)},m(s,o){x(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.max=s[1].data.max),o&2&&(l.step=s[1].data.step),o&2&&(l.min=s[1].data.min),o&2&&(l.placeholder=s[1].data.placeholder),o&2&&(l.buttonLabel=s[1].data.buttonLabel),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Re(t){let e,n;return e=new be({props:{type:"email",placeholder:t[1].data.placeholder,buttonLabel:t[1].data.buttonLabel}}),{c(){N(e.$$.fragment)},m(s,o){x(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.placeholder=s[1].data.placeholder),o&2&&(l.buttonLabel=s[1].data.buttonLabel),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){_(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function tn(t){let e,n,s,o,l,r,i,u,c,f,a=ue(t[0]),h=[];for(let p=0;p<a.length;p+=1)h[p]=Me(Pe(t,a,p));const E=p=>_(h[p],1,1,()=>{h[p]=null});let $=t[1]&&De(t);return{c(){e=k("link"),n=k("link"),s=k("link"),o=A(),l=k("div");for(let p=0;p<h.length;p+=1)h[p].c();r=A(),$&&$.c(),m(e,"rel","preconnect"),m(e,"href","https://fonts.googleapis.com"),m(n,"rel","preconnect"),m(n,"href","https://fonts.gstatic.com"),m(n,"crossorigin","anonymous"),m(s,"href","https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"),m(s,"rel","stylesheet"),m(l,"class","webble-chat-container svelte-l3bcmc")},m(p,g){O(document.head,e),O(document.head,n),O(document.head,s),y(p,o,g),y(p,l,g);for(let d=0;d<h.length;d+=1)h[d]&&h[d].m(l,null);O(l,r),$&&$.m(l,null),u=!0,c||(f=dt(i=t[2].call(null,l,t[0])),c=!0)},p(p,[g]){if(g&1){a=ue(p[0]);let d;for(d=0;d<a.length;d+=1){const D=Pe(p,a,d);h[d]?(h[d].p(D,g),b(h[d],1)):(h[d]=Me(D),h[d].c(),b(h[d],1),h[d].m(l,r))}for(S(),d=a.length;d<h.length;d+=1)E(d);C()}p[1]?$?($.p(p,g),g&2&&b($,1)):($=De(p),$.c(),b($,1),$.m(l,null)):$&&(S(),_($,1,1,()=>{$=null}),C()),i&&te(i.update)&&g&1&&i.update.call(null,p[0])},i(p){if(!u){for(let g=0;g<a.length;g+=1)b(h[g]);b($),u=!0}},o(p){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)_(h[g]);_($),u=!1},d(p){p&&(w(o),w(l)),w(e),w(n),w(s),Ke(h,p),$&&$.d(),c=!1,f()}}}function nn(t,e,n){let s,o;return B(t,de,r=>n(0,s=r)),B(t,ce,r=>n(1,o=r)),[s,o,r=>{const i=()=>r.scroll({top:r.scrollHeight,behavior:"smooth"});return i(),{update:i}}]}class it extends G{constructor(e){super(),U(this,e,nn,tn,M,{},Zt)}}X(it,{},[],[],!0);function sn(t){J(t,"svelte-102nqdr",":root{height:100%;--webble-chat-background:#F9F9F9;--webble-chat-bubble-background:#EAE7EC;--webble-chat-bubble-text-color:#202020;--webble-chat-bubble-sent-background:#6E56CF;--webble-chat-bubble-sent-text-color:#F4F0FE;--webble-primary-border:#C2B5F5;--webble-radius:8px;--webble-button-background:#6E56CF;--webble-button-background-hover:#654DC4;--webble-button-background-focus:#654DC4;--webble-button-border:#C2B5F5;--webble-button-border-focus:#D4CAFE;--webble-button-text-color:#F4F0FE;--webble-button-padding-inline:16px;--webble-button-padding-block:8px;--webble-button-font-size:16px}")}function on(t){let e,n,s;return n=new it({}),{c(){e=A(),N(n.$$.fragment)},m(o,l){y(o,e,l),x(n,o,l),s=!0},p(o,[l]){},i(o){s||(b(n.$$.fragment,o),s=!0)},o(o){_(n.$$.fragment,o),s=!1},d(o){o&&w(e),F(n,o)}}}function ln(t,e,n){let s;B(t,ee,f=>n(2,s=f));let{formId:o=""}=e,{inputValue:l=""}=e;const r=tt();ot.subscribe(f=>{f&&r("targetChange",f)});function i(){let f=new FormData;f.set("message",""),f.set("sessionId",""),ee.set(""),de.set([]),ce.set(null),fetch(`https://webble.co/chat/${o}`,{method:"POST",body:f}).then(async a=>{const h=await a.json();return fe(h),h})}kt(()=>{o&&!s&&i()});function u(){l=this.value,n(1,l)}const c=()=>n(0,o=l);return t.$$set=f=>{"formId"in f&&n(0,o=f.formId),"inputValue"in f&&n(1,l=f.inputValue)},t.$$.update=()=>{t.$$.dirty&1&&ae.set(o)},[o,l,s,i,u,c]}class rn extends G{constructor(e){super(),U(this,e,ln,on,M,{formId:0,inputValue:1,reset:3},sn)}get formId(){return this.$$.ctx[0]}set formId(e){this.$$set({formId:e}),v()}get inputValue(){return this.$$.ctx[1]}set inputValue(e){this.$$set({inputValue:e}),v()}get reset(){return this.$$.ctx[3]}}customElements.define("webble-chatbox",X(rn,{formId:{},inputValue:{}},[],["reset"],!0));
