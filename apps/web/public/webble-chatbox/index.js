var rt=Object.defineProperty;var ut=(t,e,n)=>e in t?rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var v=(t,e,n)=>(ut(t,typeof e!="symbol"?e+"":e,n),n);function S(){}const Ye=t=>t;function ct(t,e){for(const n in e)t[n]=e[n];return t}function Je(t){return t()}function xe(){return Object.create(null)}function z(t){t.forEach(Je)}function $e(t){return typeof t=="function"}function M(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ft(t){return Object.keys(t).length===0}function at(t,...e){if(t==null){for(const s of e)s(void 0);return S}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function P(t,e,n){t.$$.on_destroy.push(at(e,n))}function _e(t,e,n,s){if(t){const o=He(t,e,n,s);return t[0](o)}}function He(t,e,n,s){return t[1]&&s?ct(n.ctx.slice(),t[1](s(e))):n.ctx}function ge(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],r=Math.max(e.dirty.length,o.length);for(let i=0;i<r;i+=1)l[i]=e.dirty[i]|o[i];return l}return e.dirty|o}return e.dirty}function we(t,e,n,s,o,l){if(o){const r=He(e,n,s,l);t.p(r,o)}}function ye(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}const Ue=typeof window<"u";let dt=Ue?()=>window.performance.now():()=>Date.now(),ke=Ue?t=>requestAnimationFrame(t):S;const R=new Set;function Xe(t){R.forEach(e=>{e.c(t)||(R.delete(e),e.f())}),R.size!==0&&ke(Xe)}function bt(t){let e;return R.size===0&&ke(Xe),{promise:new Promise(n=>{R.add(e={c:t,f:n})}),abort(){R.delete(e)}}}function O(t,e){t.appendChild(e)}function J(t,e,n){const s=ve(t);if(!s.getElementById(e)){const o=y("style");o.id=e,o.textContent=n,Ge(s,o)}}function ve(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function ht(t){const e=y("style");return e.textContent="/* empty */",Ge(ve(t),e),e.sheet}function Ge(t,e){return O(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function Ke(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function ee(t){return document.createTextNode(t)}function A(){return ee(" ")}function Qe(){return ee("")}function B(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function We(t){return t===""?null:+t}function pt(t){return Array.from(t.childNodes)}function Ee(t,e){e=""+e,t.data!==e&&(t.data=e)}function Y(t,e){t.value=e??""}function Se(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Ce(t,e,n){t.classList.toggle(e,!!n)}function Ze(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}function mt(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}const oe=new Map;let le=0;function $t(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function _t(t,e){const n={stylesheet:ht(e),rules:{}};return oe.set(t,n),n}function gt(t,e,n,s,o,l,r,i=0){const c=16.666/s;let u=`{
`;for(let I=0;I<=1;I+=c){const _=e+(n-e)*l(I);u+=I*100+`%{${r(_,1-_)}}
`}const a=u+`100% {${r(n,1-n)}}
}`,f=`__svelte_${$t(a)}_${i}`,d=ve(t),{stylesheet:$,rules:h}=oe.get(d)||_t(d,t);h[f]||(h[f]=!0,$.insertRule(`@keyframes ${f} ${a}`,$.cssRules.length));const E=t.style.animation||"";return t.style.animation=`${E?`${E}, `:""}${f} ${s}ms linear ${o}ms 1 both`,le+=1,f}function Fe(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),o=n.length-s.length;o&&(t.style.animation=s.join(", "),le-=o,le||wt())}function wt(){ke(()=>{le||(oe.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&g(e)}),oe.clear())})}let Q;function K(t){Q=t}function et(){if(!Q)throw new Error("Function called outside component initialization");return Q}function yt(t){et().$$.on_mount.push(t)}function tt(){const t=et();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=Ze(e,n,{cancelable:s});return o.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}const V=[],ze=[];let T=[];const Ne=[],kt=Promise.resolve();let pe=!1;function vt(){pe||(pe=!0,kt.then(k))}function W(t){T.push(t)}const he=new Set;let D=0;function k(){if(D!==0)return;const t=Q;do{try{for(;D<V.length;){const e=V[D];D++,K(e),Et(e.$$)}}catch(e){throw V.length=0,D=0,e}for(K(null),V.length=0,D=0;ze.length;)ze.pop()();for(let e=0;e<T.length;e+=1){const n=T[e];he.has(n)||(he.add(n),n())}T.length=0}while(V.length);for(;Ne.length;)Ne.pop()();pe=!1,he.clear(),K(t)}function Et(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}function It(t){const e=[],n=[];T.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),T=e}let G;function Lt(){return G||(G=Promise.resolve(),G.then(()=>{G=null})),G}function Oe(t,e,n){t.dispatchEvent(Ze(`intro${n}`))}const ne=new Set;let j;function L(){j={r:0,c:[],p:j}}function x(){j.r||z(j.c),j=j.p}function b(t,e){t&&t.i&&(ne.delete(t),t.i(e))}function m(t,e,n,s){if(t&&t.o){if(ne.has(t))return;ne.add(t),j.c.push(()=>{ne.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const xt={duration:0};function St(t,e,n){const s={direction:"in"};let o=e(t,n,s),l=!1,r,i,c=0;function u(){r&&Fe(t,r)}function a(){const{delay:d=0,duration:$=300,easing:h=Ye,tick:E=S,css:I}=o||xt;I&&(r=gt(t,0,1,$,d,h,I,c++)),E(0,1);const _=dt()+d,de=_+$;i&&i.abort(),l=!0,W(()=>Oe(t,!0,"start")),i=bt(be=>{if(l){if(be>=de)return E(1,0),Oe(t,!0,"end"),u(),l=!1;if(be>=_){const Le=h((be-_)/$);E(Le,1-Le)}}return l})}let f=!1;return{start(){f||(f=!0,Fe(t),$e(o)?(o=o(s),Lt().then(a)):a())},invalidate(){f=!1},end(){l&&(u(),l=!1)}}}function ie(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function N(t){t&&t.c()}function C(t,e,n){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),W(()=>{const l=t.$$.on_mount.map(Je).filter($e);t.$$.on_destroy?t.$$.on_destroy.push(...l):z(l),t.$$.on_mount=[]}),o.forEach(W)}function F(t,e){const n=t.$$;n.fragment!==null&&(It(n.after_update),z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ct(t,e){t.$$.dirty[0]===-1&&(V.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function H(t,e,n,s,o,l,r=null,i=[-1]){const c=Q;K(t);const u=t.$$={fragment:null,ctx:[],props:l,update:S,not_equal:o,bound:xe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:xe(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};r&&r(u.root);let a=!1;if(u.ctx=n?n(t,e.props||{},(f,d,...$)=>{const h=$.length?$[0]:d;return u.ctx&&o(u.ctx[f],u.ctx[f]=h)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](h),a&&Ct(t,f)),d}):[],u.update(),a=!0,z(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const f=pt(e.target);u.fragment&&u.fragment.l(f),f.forEach(g)}else u.fragment&&u.fragment.c();e.intro&&b(t.$$.fragment),C(t,e.target,e.anchor),k()}K(c)}let nt;typeof HTMLElement=="function"&&(nt=class extends HTMLElement{constructor(e,n,s){super();v(this,"$$ctor");v(this,"$$s");v(this,"$$c");v(this,"$$cn",!1);v(this,"$$d",{});v(this,"$$r",!1);v(this,"$$p_d",{});v(this,"$$l",{});v(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=n,s&&this.attachShadow({mode:"open"})}addEventListener(e,n,s){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const o=this.$$c.$on(e,n);this.$$l_u.set(n,o)}super.addEventListener(e,n,s)}removeEventListener(e,n,s){if(super.removeEventListener(e,n,s),this.$$c){const o=this.$$l_u.get(n);o&&(o(),this.$$l_u.delete(n))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(r){return()=>{let i;return{c:function(){i=y("slot"),r!=="default"&&p(i,"name",r)},m:function(a,f){w(a,i,f)},d:function(a){a&&g(i)}}}};var e=n;if(await Promise.resolve(),!this.$$cn||this.$$c)return;const s={},o=mt(this);for(const r of this.$$s)r in o&&(s[r]=[n(r)]);for(const r of this.attributes){const i=this.$$g_p(r.name);i in this.$$d||(this.$$d[i]=se(i,r.value,this.$$p_d,"toProp"))}for(const r in this.$$p_d)!(r in this.$$d)&&this[r]!==void 0&&(this.$$d[r]=this[r],delete this[r]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:s,$$scope:{ctx:[]}}});const l=()=>{this.$$r=!0;for(const r in this.$$p_d)if(this.$$d[r]=this.$$c.$$.ctx[this.$$c.$$.props[r]],this.$$p_d[r].reflect){const i=se(r,this.$$d[r],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[r].attribute||r):this.setAttribute(this.$$p_d[r].attribute||r,i)}this.$$r=!1};this.$$c.$$.after_update.push(l),l();for(const r in this.$$l)for(const i of this.$$l[r]){const c=this.$$c.$on(r,i);this.$$l_u.set(i,c)}this.$$l={}}}attributeChangedCallback(e,n,s){var o;this.$$r||(e=this.$$g_p(e),this.$$d[e]=se(e,s,this.$$p_d,"toProp"),(o=this.$$c)==null||o.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function se(t,e,n,s){var l;const o=(l=n[t])==null?void 0:l.type;if(e=o==="Boolean"&&typeof e!="boolean"?e!=null:e,!s||!n[t])return e;if(s==="toAttribute")switch(o){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(o){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function U(t,e,n,s,o,l){let r=class extends nt{constructor(){super(t,n,o),this.$$p_d=e}static get observedAttributes(){return Object.keys(e).map(i=>(e[i].attribute||i).toLowerCase())}};return Object.keys(e).forEach(i=>{Object.defineProperty(r.prototype,i,{get(){return this.$$c&&i in this.$$c?this.$$c[i]:this.$$d[i]},set(c){var u;c=se(i,c,e),this.$$d[i]=c,(u=this.$$c)==null||u.$set({[i]:c})}})}),s.forEach(i=>{Object.defineProperty(r.prototype,i,{get(){var c;return(c=this.$$c)==null?void 0:c[i]}})}),t.element=r,r}class X{constructor(){v(this,"$$");v(this,"$$set")}$destroy(){F(this,1),this.$destroy=S}$on(e,n){if(!$e(n))return S;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(e){this.$$set&&!ft(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ft="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ft);function zt(t){return 1-Math.sqrt(1-t*t)}function Nt(t,{delay:e=0,duration:n=400,easing:s=Ye}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:s,css:l=>`opacity: ${l*o}`}}function Ot(t){J(t,"svelte-1k0ozfh",".webble-chat-bubble.svelte-1k0ozfh{align-self:start;display:inline;padding-inline:14px;padding-block:12px;border-radius:16px;background:var(--webble-chat-bubble-background);color:var(--webble-chat-bubble-text-color)}.webble-msg-sent.svelte-1k0ozfh{align-self:end;background:var(--webble-chat-bubble-sent-background);color:var(--webble-chat-bubble-sent-text-color)}@keyframes svelte-1k0ozfh-typing{0%{transform:scale(1)}33%{transform:scale(1)}50%{transform:scale(1.4)}100%{transform:scale(1)}}@keyframes svelte-1k0ozfh-bounce{0%{transform:translateY(0)}33%{transform:translateY(0)}50%{transform:translateY(-10px)}100%{transform:translateY(0)}}")}function jt(t){let e;const n=t[4].default,s=_e(n,t,t[3],null);return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){s&&s.p&&(!e||l&8)&&we(s,n,o,o[3],e?ge(n,o[3],l,null):ye(o[3]),null)},i(o){e||(b(s,o),e=!0)},o(o){m(s,o),e=!1},d(o){s&&s.d(o)}}}function At(t){let e;const n=t[4].default,s=_e(n,t,t[3],null);return{c(){s&&s.c()},m(o,l){s&&s.m(o,l),e=!0},p(o,l){s&&s.p&&(!e||l&8)&&we(s,n,o,o[3],e?ge(n,o[3],l,null):ye(o[3]),null)},i(o){e||(b(s,o),e=!0)},o(o){m(s,o),e=!1},d(o){s&&s.d(o)}}}function Pt(t){let e,n,s,o,l;const r=[At,jt],i=[];function c(u,a){return u[0]?0:1}return n=c(t),s=i[n]=r[n](t),{c(){e=y("div"),s.c(),p(e,"class","webble-chat-bubble svelte-1k0ozfh"),Ce(e,"webble-msg-sent",t[0])},m(u,a){w(u,e,a),i[n].m(e,null),l=!0},p(u,[a]){t=u;let f=n;n=c(t),n===f?i[n].p(t,a):(L(),m(i[f],1,1,()=>{i[f]=null}),x(),s=i[n],s?s.p(t,a):(s=i[n]=r[n](t),s.c()),b(s,1),s.m(e,null)),(!l||a&1)&&Ce(e,"webble-msg-sent",t[0])},i(u){l||(b(s),u&&(o||W(()=>{o=St(e,Nt,{delay:t[0]?0:t[1],easing:zt}),o.start()})),l=!0)},o(u){m(s),l=!1},d(u){u&&g(e),i[n].d()}}}function Bt(t,e,n){let{$$slots:s={},$$scope:o}=e,{wasSent:l=!1}=e,{index:r=0}=e,{hiddenFor:i=0}=e;return t.$$set=c=>{"wasSent"in c&&n(0,l=c.wasSent),"index"in c&&n(2,r=c.index),"hiddenFor"in c&&n(1,i=c.hiddenFor),"$$scope"in c&&n(3,o=c.$$scope)},[l,i,r,o,s]}class st extends X{constructor(e){super(),H(this,e,Bt,Pt,M,{wasSent:0,index:2,hiddenFor:1},Ot)}get wasSent(){return this.$$.ctx[0]}set wasSent(e){this.$$set({wasSent:e}),k()}get index(){return this.$$.ctx[2]}set index(e){this.$$set({index:e}),k()}get hiddenFor(){return this.$$.ctx[1]}set hiddenFor(e){this.$$set({hiddenFor:e}),k()}}U(st,{wasSent:{type:"Boolean"},index:{},hiddenFor:{}},["default"],[],!0);function Mt(t){J(t,"svelte-1dzq9gl",".webble-button.svelte-1dzq9gl{all:unset;flex-grow:1;text-align:center;background:var(--webble-button-background);color:var(--webble-button-text-color);font-size:var(--webble-button-font-size);border-radius:var(--webble-radius);cursor:pointer;border:1px solid var(--webble-button-border);padding-inline:var(--webble-button-padding-inline);padding-block:var(--webble-button-padding-block)}.webble-button.svelte-1dzq9gl:hover{background:var(--webble-button-background-hover)}.webble-button.svelte-1dzq9gl:focus{background:var(--webble-button-background-focus);border:1px solid var(--webble-button-border-focus)}")}function Dt(t){let e,n,s,o;const l=t[2].default,r=_e(l,t,t[1],null);return{c(){e=y("button"),r&&r.c(),p(e,"class","webble-button svelte-1dzq9gl")},m(i,c){w(i,e,c),r&&r.m(e,null),n=!0,s||(o=B(e,"click",t[0]),s=!0)},p(i,[c]){r&&r.p&&(!n||c&2)&&we(r,l,i,i[1],n?ge(l,i[1],c,null):ye(i[1]),null)},i(i){n||(b(r,i),n=!0)},o(i){m(r,i),n=!1},d(i){i&&g(e),r&&r.d(i),s=!1,o()}}}function qt(t,e,n){let{$$slots:s={},$$scope:o}=e;const l=tt();function r(){l("click")}return t.$$set=i=>{"$$scope"in i&&n(1,o=i.$$scope)},[r,o,s]}class Ie extends X{constructor(e){super(),H(this,e,qt,Dt,M,{},Mt)}}U(Ie,{},["default"],[],!0);const q=[];function te(t,e=S){let n;const s=new Set;function o(i){if(M(t,i)&&(t=i,n)){const c=!q.length;for(const u of s)u[1](),q.push(u,t);if(c){for(let u=0;u<q.length;u+=2)q[u][0](q[u+1]);q.length=0}}}function l(i){o(i(t))}function r(i,c=S){const u=[i,c];return s.add(u),s.size===1&&(n=e(o,l)||S),i(t),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:r}}let ce=te(),Z=te(),fe=te([]),ot=te(),re=te(JSON.parse(localStorage.getItem("webble-input")||"{}"));function me({message:t,sessionId:e,formId:n},s){if(!t)return;const o=new FormData;o.set("message",String(t)),o.set("sessionId",e),fetch(`http://localhost:5174/chat/${n}`,{method:"POST",body:o}).then(l=>(fe.update(r=>[...r,{type:"sent",content:{value:String(t),type:"text"}}]),l)).then(async l=>{const r=await l.json();return s(r)})}function ue(t){var e;if(t.nextElementId&&ot.set(t.nextElementId),console.log("NEXt",t.nextElementId),t.input?re.set(t.input):(re.set(null),localStorage.removeItem(`webble-input-${ce}`)),(e=t.messages)!=null&&e.length){const n=t.messages.map(s=>({id:s.id,type:"received",content:{type:"text",value:s.data.text}}));fe.update(s=>[...s,...n])}t.sessionId&&Z.set(t.sessionId)}function Vt(t){J(t,"svelte-13awd0v",".input-wrapper.svelte-13awd0v{display:flex;align-self:end;border-radius:0.5rem;overflow:hidden}.webble-input.svelte-13awd0v{display:block;padding:1rem;flex-grow:2;color:#1f2937;border:none;background-color:#f3f4f6;font-size:1rem;outline-offset:2px;outline:2px solid transparent;box-shadow:0 0 #0000, 0 0 #0000, 0 1px 2px 0 rgba(0, 0, 0, 0.05)}")}function Rt(t){let e,n,s;return{c(){e=y("input"),e.autofocus=!0,p(e,"placeholder",t[0]),p(e,"type","email"),p(e,"class","webble-input svelte-13awd0v")},m(o,l){w(o,e,l),Y(e,t[6]),e.focus(),n||(s=[B(e,"keydown",t[9]),B(e,"input",t[12])],n=!0)},p(o,l){l&1&&p(e,"placeholder",o[0]),l&64&&e.value!==o[6]&&Y(e,o[6])},d(o){o&&g(e),n=!1,z(s)}}}function Tt(t){let e,n,s;return{c(){e=y("input"),e.autofocus=!0,p(e,"placeholder",t[0]),p(e,"class","webble-input svelte-13awd0v")},m(o,l){w(o,e,l),Y(e,t[6]),e.focus(),n||(s=[B(e,"keydown",t[9]),B(e,"input",t[11])],n=!0)},p(o,l){l&1&&p(e,"placeholder",o[0]),l&64&&e.value!==o[6]&&Y(e,o[6])},d(o){o&&g(e),n=!1,z(s)}}}function Yt(t){let e,n,s;return{c(){e=y("input"),e.autofocus=!0,p(e,"min",t[3]),p(e,"max",t[4]),p(e,"step",t[5]),p(e,"type","number"),p(e,"placeholder",t[0]),p(e,"class","webble-input svelte-13awd0v")},m(o,l){w(o,e,l),Y(e,t[6]),e.focus(),n||(s=[B(e,"keydown",t[9]),B(e,"input",t[10])],n=!0)},p(o,l){l&8&&p(e,"min",o[3]),l&16&&p(e,"max",o[4]),l&32&&p(e,"step",o[5]),l&1&&p(e,"placeholder",o[0]),l&64&&We(e.value)!==o[6]&&Y(e,o[6])},d(o){o&&g(e),n=!1,z(s)}}}function Jt(t){let e;return{c(){e=ee(t[1])},m(n,s){w(n,e,s)},p(n,s){s&2&&Ee(e,n[1])},d(n){n&&g(e)}}}function Ht(t){let e,n,s,o,l;function r(u,a){if(u[2]==="number")return Yt;if(u[2]==="text")return Tt;if(u[2]==="email")return Rt}let i=r(t),c=i&&i(t);return s=new Ie({props:{$$slots:{default:[Jt]},$$scope:{ctx:t}}}),s.$on("click",t[13]),{c(){e=y("div"),c&&c.c(),n=A(),o=y("div"),N(s.$$.fragment),Se(o,"display","contents"),Se(o,"--webble-radius","0px"),p(e,"class","input-wrapper svelte-13awd0v")},m(u,a){w(u,e,a),c&&c.m(e,null),O(e,n),O(e,o),C(s,o,null),l=!0},p(u,[a]){i===(i=r(u))&&c?c.p(u,a):(c&&c.d(1),c=i&&i(u),c&&(c.c(),c.m(e,n)));const f={};a&16386&&(f.$$scope={dirty:a,ctx:u}),s.$set(f)},i(u){l||(b(s.$$.fragment,u),l=!0)},o(u){m(s.$$.fragment,u),l=!1},d(u){u&&g(e),c&&c.d(),F(s)}}}function Ut(t,e,n){let s,o;P(t,Z,_=>n(7,s=_)),P(t,ce,_=>n(8,o=_));let{placeholder:l="Type something..."}=e,{buttonLabel:r="Send"}=e,{type:i="text"}=e,{min:c=void 0}=e,{max:u=void 0}=e,{step:a=void 0}=e,f;function d(_){_.key==="Enter"&&me({formId:o,message:f,sessionId:s},de=>{ue(de),n(6,f="")})}function $(){f=We(this.value),n(6,f)}function h(){f=this.value,n(6,f)}function E(){f=this.value,n(6,f)}const I=()=>{me({formId:o,message:f,sessionId:s},_=>{ue(_),n(6,f="")})};return t.$$set=_=>{"placeholder"in _&&n(0,l=_.placeholder),"buttonLabel"in _&&n(1,r=_.buttonLabel),"type"in _&&n(2,i=_.type),"min"in _&&n(3,c=_.min),"max"in _&&n(4,u=_.max),"step"in _&&n(5,a=_.step)},[l,r,i,c,u,a,f,s,o,d,$,h,E,I]}class ae extends X{constructor(e){super(),H(this,e,Ut,Ht,M,{placeholder:0,buttonLabel:1,type:2,min:3,max:4,step:5},Vt)}get placeholder(){return this.$$.ctx[0]}set placeholder(e){this.$$set({placeholder:e}),k()}get buttonLabel(){return this.$$.ctx[1]}set buttonLabel(e){this.$$set({buttonLabel:e}),k()}get type(){return this.$$.ctx[2]}set type(e){this.$$set({type:e}),k()}get min(){return this.$$.ctx[3]}set min(e){this.$$set({min:e}),k()}get max(){return this.$$.ctx[4]}set max(e){this.$$set({max:e}),k()}get step(){return this.$$.ctx[5]}set step(e){this.$$set({step:e}),k()}}U(ae,{placeholder:{},buttonLabel:{},type:{},min:{},max:{},step:{}},[],[],!0);function Xt(t){J(t,"svelte-8p33yo",".options-container.svelte-8p33yo{font-size:14px;display:flex;flex-wrap:wrap;gap:4px;align-self:end}")}function je(t,e,n){const s=t.slice();return s[4]=e[n],s}function Ae(t){let e,n;function s(){return t[3](t[4])}return e=new Ie({props:{$$slots:{default:[Gt]},$$scope:{ctx:t}}}),e.$on("click",s),{c(){N(e.$$.fragment)},m(o,l){C(e,o,l),n=!0},p(o,l){t=o;const r={};l&129&&(r.$$scope={dirty:l,ctx:t}),e.$set(r)},i(o){n||(b(e.$$.fragment,o),n=!0)},o(o){m(e.$$.fragment,o),n=!1},d(o){F(e,o)}}}function Gt(t){let e=t[4].label+"",n;return{c(){n=ee(e)},m(s,o){w(s,n,o)},p(s,o){o&1&&e!==(e=s[4].label+"")&&Ee(n,e)},d(s){s&&g(n)}}}function Pe(t){let e,n,s=t[4]&&Ae(t);return{c(){s&&s.c(),e=Qe()},m(o,l){s&&s.m(o,l),w(o,e,l),n=!0},p(o,l){o[4]?s?(s.p(o,l),l&1&&b(s,1)):(s=Ae(o),s.c(),b(s,1),s.m(e.parentNode,e)):s&&(L(),m(s,1,1,()=>{s=null}),x())},i(o){n||(b(s),n=!0)},o(o){m(s),n=!1},d(o){o&&g(e),s&&s.d(o)}}}function Kt(t){let e,n,s=ie(t[0]),o=[];for(let r=0;r<s.length;r+=1)o[r]=Pe(je(t,s,r));const l=r=>m(o[r],1,1,()=>{o[r]=null});return{c(){e=y("div");for(let r=0;r<o.length;r+=1)o[r].c();p(e,"class","options-container svelte-8p33yo")},m(r,i){w(r,e,i);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);n=!0},p(r,[i]){if(i&7){s=ie(r[0]);let c;for(c=0;c<s.length;c+=1){const u=je(r,s,c);o[c]?(o[c].p(u,i),b(o[c],1)):(o[c]=Pe(u),o[c].c(),b(o[c],1),o[c].m(e,null))}for(L(),c=s.length;c<o.length;c+=1)l(c);x()}},i(r){if(!n){for(let i=0;i<s.length;i+=1)b(o[i]);n=!0}},o(r){o=o.filter(Boolean);for(let i=0;i<o.length;i+=1)m(o[i]);n=!1},d(r){r&&g(e),Ke(o,r)}}}function Qt(t,e,n){let s,o;P(t,ce,i=>n(1,s=i)),P(t,Z,i=>n(2,o=i));let{options:l=[]}=e;const r=i=>{me({formId:s,message:i.label,sessionId:o},c=>ue(c))};return t.$$set=i=>{"options"in i&&n(0,l=i.options)},[l,s,o,r]}class lt extends X{constructor(e){super(),H(this,e,Qt,Kt,M,{options:0},Xt)}get options(){return this.$$.ctx[0]}set options(e){this.$$set({options:e}),k()}}U(lt,{options:{}},[],[],!0);function Wt(t){J(t,"svelte-l3bcmc",':root{font-family:"Nunito", sans-serif;font-optical-sizing:auto;font-style:normal}.webble-chat-container.svelte-l3bcmc{box-sizing:border-box;display:flex;padding:14px;overflow-y:auto;gap:14px;flex-direction:column;align-items:start;background:var(--webble-chat-background);min-height:var(--webble-chat-container-min-height);width:100%;max-width:800px}')}function Be(t,e,n){const s=t.slice();return s[2]=e[n],s[4]=n,s}function Zt(t){let e=t[2].content.value+"",n;return{c(){n=ee(e)},m(s,o){w(s,n,o)},p(s,o){o&1&&e!==(e=s[2].content.value+"")&&Ee(n,e)},d(s){s&&g(n)}}}function Me(t){let e,n;return e=new st({props:{wasSent:t[2].type==="sent",index:t[4],hiddenFor:250*t[4]-t[4]*25,$$slots:{default:[Zt]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(s,o){C(e,s,o),n=!0},p(s,o){const l={};o&1&&(l.wasSent=s[2].type==="sent"),o&33&&(l.$$scope={dirty:o,ctx:s}),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function De(t){let e,n,s,o,l,r=t[1].type==="choice_input"&&qe(t),i=t[1].type==="text_input"&&Ve(t),c=t[1].type==="number_input"&&Re(t),u=t[1].type==="email_input"&&Te(t);return{c(){r&&r.c(),e=A(),i&&i.c(),n=A(),c&&c.c(),s=A(),u&&u.c(),o=Qe()},m(a,f){r&&r.m(a,f),w(a,e,f),i&&i.m(a,f),w(a,n,f),c&&c.m(a,f),w(a,s,f),u&&u.m(a,f),w(a,o,f),l=!0},p(a,f){a[1].type==="choice_input"?r?(r.p(a,f),f&2&&b(r,1)):(r=qe(a),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(L(),m(r,1,1,()=>{r=null}),x()),a[1].type==="text_input"?i?(i.p(a,f),f&2&&b(i,1)):(i=Ve(a),i.c(),b(i,1),i.m(n.parentNode,n)):i&&(L(),m(i,1,1,()=>{i=null}),x()),a[1].type==="number_input"?c?(c.p(a,f),f&2&&b(c,1)):(c=Re(a),c.c(),b(c,1),c.m(s.parentNode,s)):c&&(L(),m(c,1,1,()=>{c=null}),x()),a[1].type==="email_input"?u?(u.p(a,f),f&2&&b(u,1)):(u=Te(a),u.c(),b(u,1),u.m(o.parentNode,o)):u&&(L(),m(u,1,1,()=>{u=null}),x())},i(a){l||(b(r),b(i),b(c),b(u),l=!0)},o(a){m(r),m(i),m(c),m(u),l=!1},d(a){a&&(g(e),g(n),g(s),g(o)),r&&r.d(a),i&&i.d(a),c&&c.d(a),u&&u.d(a)}}}function qe(t){let e,n;return e=new lt({props:{options:t[1].data.options}}),{c(){N(e.$$.fragment)},m(s,o){C(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.options=s[1].data.options),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Ve(t){let e,n;return e=new ae({props:{placeholder:t[1].data.placeholder,buttonLabel:t[1].data.buttonLabel}}),{c(){N(e.$$.fragment)},m(s,o){C(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.placeholder=s[1].data.placeholder),o&2&&(l.buttonLabel=s[1].data.buttonLabel),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Re(t){let e,n;return e=new ae({props:{type:"number",max:t[1].data.max,step:t[1].data.step,min:t[1].data.min,placeholder:t[1].data.placeholder,buttonLabel:t[1].data.buttonLabel}}),{c(){N(e.$$.fragment)},m(s,o){C(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.max=s[1].data.max),o&2&&(l.step=s[1].data.step),o&2&&(l.min=s[1].data.min),o&2&&(l.placeholder=s[1].data.placeholder),o&2&&(l.buttonLabel=s[1].data.buttonLabel),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function Te(t){let e,n;return e=new ae({props:{type:"email",placeholder:t[1].data.placeholder,buttonLabel:t[1].data.buttonLabel}}),{c(){N(e.$$.fragment)},m(s,o){C(e,s,o),n=!0},p(s,o){const l={};o&2&&(l.placeholder=s[1].data.placeholder),o&2&&(l.buttonLabel=s[1].data.buttonLabel),e.$set(l)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){F(e,s)}}}function en(t){let e,n,s,o,l,r,i,c=ie(t[0]),u=[];for(let d=0;d<c.length;d+=1)u[d]=Me(Be(t,c,d));const a=d=>m(u[d],1,1,()=>{u[d]=null});let f=t[1]&&De(t);return{c(){e=y("link"),n=y("link"),s=y("link"),o=A(),l=y("div");for(let d=0;d<u.length;d+=1)u[d].c();r=A(),f&&f.c(),p(e,"rel","preconnect"),p(e,"href","https://fonts.googleapis.com"),p(n,"rel","preconnect"),p(n,"href","https://fonts.gstatic.com"),p(n,"crossorigin","anonymous"),p(s,"href","https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"),p(s,"rel","stylesheet"),p(l,"class","webble-chat-container svelte-l3bcmc")},m(d,$){O(document.head,e),O(document.head,n),O(document.head,s),w(d,o,$),w(d,l,$);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(l,null);O(l,r),f&&f.m(l,null),i=!0},p(d,[$]){if($&1){c=ie(d[0]);let h;for(h=0;h<c.length;h+=1){const E=Be(d,c,h);u[h]?(u[h].p(E,$),b(u[h],1)):(u[h]=Me(E),u[h].c(),b(u[h],1),u[h].m(l,r))}for(L(),h=c.length;h<u.length;h+=1)a(h);x()}d[1]?f?(f.p(d,$),$&2&&b(f,1)):(f=De(d),f.c(),b(f,1),f.m(l,null)):f&&(L(),m(f,1,1,()=>{f=null}),x())},i(d){if(!i){for(let $=0;$<c.length;$+=1)b(u[$]);b(f),i=!0}},o(d){u=u.filter(Boolean);for(let $=0;$<u.length;$+=1)m(u[$]);m(f),i=!1},d(d){d&&(g(o),g(l)),g(e),g(n),g(s),Ke(u,d),f&&f.d()}}}function tn(t,e,n){let s,o;return P(t,fe,l=>n(0,s=l)),P(t,re,l=>n(1,o=l)),[s,o]}class it extends X{constructor(e){super(),H(this,e,tn,en,M,{},Wt)}}U(it,{},[],[],!0);function nn(t){J(t,"svelte-102nqdr",":root{height:100%;--webble-chat-background:#F9F9F9;--webble-chat-bubble-background:#EAE7EC;--webble-chat-bubble-text-color:#202020;--webble-chat-bubble-sent-background:#6E56CF;--webble-chat-bubble-sent-text-color:#F4F0FE;--webble-primary-border:#C2B5F5;--webble-radius:8px;--webble-button-background:#6E56CF;--webble-button-background-hover:#654DC4;--webble-button-background-focus:#654DC4;--webble-button-border:#C2B5F5;--webble-button-border-focus:#D4CAFE;--webble-button-text-color:#F4F0FE;--webble-button-padding-inline:16px;--webble-button-padding-block:8px;--webble-button-font-size:16px}")}function sn(t){let e,n,s;return n=new it({}),{c(){e=A(),N(n.$$.fragment)},m(o,l){w(o,e,l),C(n,o,l),s=!0},p(o,[l]){},i(o){s||(b(n.$$.fragment,o),s=!0)},o(o){m(n.$$.fragment,o),s=!1},d(o){o&&g(e),F(n,o)}}}function on(t,e,n){let s;P(t,Z,a=>n(2,s=a));let{formId:o=""}=e,{inputValue:l=""}=e;const r=tt();ot.subscribe(a=>{a&&r("targetChange",a)});function i(){let a=new FormData;a.set("message",""),a.set("sessionId",""),Z.set(""),fe.set([]),re.set(null),fetch(`http://localhost:5174/chat/${o}`,{method:"POST",body:a}).then(async f=>{const d=await f.json();return ue(d),d})}yt(()=>{o&&!s&&i()});function c(){l=this.value,n(1,l)}const u=()=>n(0,o=l);return t.$$set=a=>{"formId"in a&&n(0,o=a.formId),"inputValue"in a&&n(1,l=a.inputValue)},t.$$.update=()=>{t.$$.dirty&1&&ce.set(o)},[o,l,s,i,c,u]}class ln extends X{constructor(e){super(),H(this,e,on,sn,M,{formId:0,inputValue:1,reset:3},nn)}get formId(){return this.$$.ctx[0]}set formId(e){this.$$set({formId:e}),k()}get inputValue(){return this.$$.ctx[1]}set inputValue(e){this.$$set({inputValue:e}),k()}get reset(){return this.$$.ctx[3]}}customElements.define("webble-chatbox",U(ln,{formId:{},inputValue:{}},[],["reset"],!0));
